//未经允许，不可转载拷贝，联系作者：alvin.yiwen@gmail.com
function rnd(a,e){return Math.floor(Math.random()*(e-a+1)+a)}$(function(){var c=!1;function p(a){var e;switch(parseInt(a)){case 0:e="稠江街道";break;case 1:e="江东街道";break;case 2:e="福田街道";break;case 3:e="稠城街道";break;case 4:e="赤岸镇";break;case 5:e="义亭镇";break;case 6:e="大成镇";break;case 7:e="上溪镇";break;case 8:e="苏溪镇";break;case 9:e="佛堂镇";break;case 10:e="城西街道";break;case 11:e="甘三里街道";break;case 12:e="后宅街道";break;case 13:e="北苑街道"}return e}function l(a,e){for(var s=0;s<a.length;s++)if(a[s]==e)return!1;return!0}$("body").on("click","a.btn.cz",function(){for(var a,e=$(this).parents(".item").attr("jz-num"),s=function(a){var e;switch(parseInt(a)){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:e=new Array("村庄1","村庄2","村庄3","村庄4","村庄5","村庄6")}return e}(e),r=new Array,c=$(this).parent().siblings("p.czGrp"),n=c.find("span.cz"),t=0;t<n.length;t++)r[t]=$(n[t]).html().toString();if(r.length<s.length){for(t=0;-1<t;t++)if(l(r,s[a=rnd(0,s.length-1)])){var i=$('<span class="cz">');return i.html(s[a]),0!=n.length&&c.append("、"),c.append(i),!0}}else alert(p(e)+"下的村庄已全部被选中。")}),$("body").on("click","a.btn.sq",function(){for(var a,e=$(this).parents(".item").attr("jz-num"),s=function(a){var e;switch(parseInt(a)){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:e=new Array("社区1","社区2","社区3","社区4","社区5","社区6")}return e}(e),r=new Array,c=$(this).parent().siblings("p.sqGrp"),n=c.find("span.sq"),t=0;t<n.length;t++)r[t]=$(n[t]).html().toString();if(r.length<s.length){for(t=0;-1<t;t++)if(l(r,s[a=rnd(0,s.length-1)])){var i=$('<span class="sq">');return i.html(s[a]),0!=n.length&&c.append("、"),c.append(i),!0}}else alert(p(e)+"下的社区已全部被选中。")});var r=function(r,a){c=!c,$("#zhuanpan").stopRotate(),$("#zhuanpan").rotate({angle:0,animateTo:a+1800,duration:2500,callback:function(){var a,e,s;c=!c,a=r,e=$('<div class="item item-'+a+'" jz-num="'+a+'">'),s='<p>您选中的街镇为：<span class="jz">'+p(a)+'</span></p><p><a class="btn cz" href="javascript:void(0)">点击选村庄</a></p><p class="czGrp">您选择的村庄为：</p><p><a class="btn sq" href="javascript:void(0)">点击选社区</a></p><p class="sqGrp">您选择的社区为：</p>',$(e).html(s),$("#result").append(e),console.log(p(r))}})},n=new Array(0,1,2,3,4,5,6,7,8,9,10,11,12,13),t=new Array;$(".pointer").click(function(){if(!c){var a;if(t.length<n.length)for(var e=0;-1<e;e++){var s=rnd(0,13);if(l(t,n[s])){a=s,t.push(a);break}}else alert("所有的街镇都已被选中过。");switch(a){case 0:r(0,347.2);break;case 1:r(1,321.3);break;case 2:r(2,295.6);break;case 3:r(3,269.9);break;case 4:r(4,244.2);break;case 5:r(5,218.5);break;case 6:r(6,192.8);break;case 7:r(7,167.1);break;case 8:r(8,141.4);break;case 9:r(9,115.7);break;case 10:r(10,90);break;case 11:r(11,64.3);break;case 12:r(12,38.6);break;case 13:r(13,12.8)}}})});