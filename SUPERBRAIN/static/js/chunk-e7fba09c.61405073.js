(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e7fba09c"],{"0b49":function(t,e,a){},4288:function(t,e,a){},6894:function(t,e,a){t.exports=a.p+"static/img/warnning.ee2c3ac4.svg"},acf0:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"tip-modal",attrs:{title:t.title,visible:t.visible,width:"30%"},on:{close:function(e){return t.$emit("onClose")}}},[a("img",{staticClass:"icon-success",attrs:{src:t.imgSrc,alt:""}}),a("p",{staticClass:"desc"},[t._v(t._s(t.desc))]),"error"===t.type?a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"continue-button",attrs:{type:"primary"},on:{click:function(e){return t.$emit("onContinue")}}},[t._v(t._s(t.$t("m.resourceCenter.继续浏览资源")))])],1):a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){return t.$emit("onCancle")}}},[t._v(t._s(t.$t("m.取消")))]),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.$emit("onConfirm")}}},[t._v(t._s(t.$t("m.提交")))])],1)])},r=[],i={name:"TipModal",props:{type:String,title:String,desc:String,visible:Boolean,imgSrc:String,loading:Boolean}},s=i,o=(a("caed"),a("2877")),c=Object(o["a"])(s,n,r,!1,null,null,null);e["a"]=c.exports},bdd0:function(t,e,a){"use strict";var n=a("0b49"),r=a.n(n);r.a},caed:function(t,e,a){"use strict";var n=a("4288"),r=a.n(n);r.a},e399:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"container"},[n("div",{staticClass:"userDataTable section"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingUserData,expression:"loadingUserData"}],staticStyle:{width:"100%"},attrs:{data:t.userData,"header-cell-style":{background:"#f5f5f5"},"cell-style":{padding:"10px 0"}}},[n("el-table-column",{attrs:{prop:"id",label:t.$t("m.managementCenter['编号']"),"min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$api.buttonAuth("resourceDetail")?n("router-link",{attrs:{to:{path:"/resourceDetail",query:{id:e.row.id}}}},[t._v(t._s(e.row.id))]):n("span",[t._v(t._s(e.row.id))])]}}])}),n("el-table-column",{attrs:{prop:"productTypeName",label:t.$t("m['产品类型']"),"min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(1===Number(e.row.productType)?t.$t("m.应用产品"):t.$t("m.服务产品")))]}}])}),n("el-table-column",{attrs:{prop:"productName",label:t.$t("m['产品名称']"),"min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{attrs:{title:e.row.productName}},[t._v(t._s(e.row.productName))])]}}])}),n("el-table-column",{attrs:{prop:"connectType",label:t.$t("m.managementCenter['对接方式']"),"min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(1===e.row.connectType?"H5":"API"))]}}])}),n("el-table-column",{attrs:{prop:"enabled",label:t.$t("m.managementCenter['开通状态']"),"min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"tag",class:t.getStateClass(e.row.state)}),t._v("\n            "+t._s(t.getStateByCode(e.row.state))+"\n          ")]}}])}),n("el-table-column",{attrs:{prop:"createDatetime",label:t.$t("m.managementCenter['申请时间']"),"min-width":"140"}}),n("el-table-column",{attrs:{label:t.$t("m['操作']"),"min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.authEdit(e.row,2)?n("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v(t._s(t.$t("m['编辑']")))]):t._e(),t.authEdit(e.row,3)?n("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleReapply(e.row)}}},[t._v(t._s(t.$t("m.managementCenter['重新申请']")))]):t._e()]}}])})],1),n("DataPagination",{attrs:{"pagination-data":t.paginationData},on:{"update:paginationData":function(e){t.paginationData=e},"update:pagination-data":function(e){t.paginationData=e},resetData:t.getUserData}})],1)]),n("el-dialog",{staticClass:"warning-modal",attrs:{title:t.$t("m.提示"),visible:t.visible,width:"30%"},on:{close:t.onClose}},[n("div",{staticClass:"content-center"},[n("img",{staticClass:"icon-success",attrs:{src:a("6894"),alt:""}}),n("p",{staticClass:"desc"},[t._v(t._s(t.$t("m.managementCenter.您需要优先完成开发者配置，即可申请超级大脑资源")))])]),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.$api.buttonAuth("accessGuide")?n("el-button",{attrs:{type:"primary"},on:{click:t.onConfirm}},[t._v(t._s(t.$t("m.managementCenter.前往开发者配置")))]):t._e()],1)]),n("TipModal",{attrs:{type:"error",visible:t.confirmVisible,imgSrc:t.errorImg,title:t.$t("m.提示"),desc:t.$t("m.resourceCenter.暂未能申请资源，请联系商务人员协助后重试")},on:{onClose:function(e){t.confirmVisible=!1},onContinue:function(e){t.confirmVisible=!1}}})],1)},r=[],i=(a("8e6e"),a("c5f6"),a("ac6a"),a("456d"),a("96cf"),a("3b8d")),s=a("bd86"),o=a("2f62"),c=a("acf0"),u=a("e755"),l=a.n(u);function d(t,e){var a=Object.keys(t);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(t)),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(a,!0).forEach(function(e){Object(s["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var m={name:"resourceIndex",components:{TipModal:c["a"]},data:function(){return{paginationData:{pageIndex:1,pageSize:10,dataCount:0},errorImg:l.a,loadingUserData:!1,userData:[],visible:!1,confirmVisible:!1}},computed:p({},Object(o["b"])(["user"])),beforeRouteUpdate:function(t,e,a){this.getUserData().then(function(){a()})},mounted:function(){this.fetchData()},methods:{onClose:function(){this.visible=!1},onConfirm:function(){this.$router.push({path:"/devConfig"}),this.visible=!1},checkServerConfig:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,n,r,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.merchant.getDevConfigList(this.user.merchantId);case 2:if(e=t.sent,e&&e.data&&e["data"][0]["configList"].length){t.next=5;break}return t.abrupt("return");case 5:a=e["data"][0]["configList"],n={id:a[0]["callbackAccessId"],token:a[0]["callbackAccessSecret"],address:a[0]["callbackAccessAddress"]},r={id:a[1]["callbackAccessId"],token:a[1]["callbackAccessSecret"],address:a[1]["callbackAccessAddress"]},i=Object.keys(n).some(function(t){return n[t]&&""!==n[t]}),s=Object.keys(r).some(function(t){return r[t]&&""!==r[t]}),this.visible=!i&&!s;case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),fetchData:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getUserData();case 2:return t.next=4,this.checkServerConfig();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getStateByCode:function(t){var e;switch(t){case 1:e=this.$t("m.managementCenter['审核中']");break;case 2:e=this.$t("m.managementCenter['已开通']");break;case 3:e=this.$t("m.managementCenter['开通失败']");break;default:e=""}return e},getStateClass:function(t){var e;switch(t){case 1:e="tag_1";break;case 2:e="tag_2";break;case 3:e="tag_3";break;default:e=""}return e},checkExceeded:function(t){var e=(new Date).getTime()-Number(t);return e>=2592e6},setUserData:function(t){this.userData=t.data,this.paginationData.dataCount=t.count,this.loadingUserData=!1},getUserData:function(){var t=this;return this.loadingUserData=!0,this.$api.merchant.getMerchantRightListByMerchantId(p({},this.paginationData,{conditions:{code:this.user.merchantId}})).then(function(e){t.setUserData(e)}).catch(function(e){t.userData=null,t.loadingUserData=!1,t.$message.error(e.message)})},authEdit:function(t,e){switch(Number(t.productType)){case 1:return this.$api.buttonAuth("applicationProduct/edit")&&1===Number(t.productType)&&Number(t.state)===e;case 2:return this.$api.buttonAuth("serviceProduct/edit")&&2===Number(t.productType)&&Number(t.state)===e;default:return!1}},handleEdit:function(t){var e=t.productType,a=t.id,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=1===Number(e)?"/applicationProduct/edit":"/serviceProduct/edit",i=n?3:2;this.$router.push({path:r,query:{id:a,state:i}})},handleReapply:function(t){var e=!1;if(t["approveDatetime"]){var a=new Date(t["approveDatetime"]).getTime();e=this.checkExceeded(a)}e?this.handleEdit(t,!0):this.confirmVisible=!0}}},f=m,g=(a("bdd0"),a("2877")),b=Object(g["a"])(f,n,r,!1,null,"34d41758",null);e["default"]=b.exports},e755:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAAJ1BMVEVHcEz/Z1//Zl//Zmb/aGH/ZmD/Z2D/ZmD/amX/Z2H/Z2H/b2b/Zl962iMjAAAADHRSTlMA69wdPa7FhSwqXw1O9EZIAAADYklEQVRo3rWasW4TQRCGL7IhDmkiQWFHV8VISMiFcU1hGpAgRSoouCIFKAUuIgSpKC5vgN/AIEoXLggVzR2+s5TMQ7HGZ/t2d2Zu9yZMGXlH397O/jM7kyAgbf/l59dHYXL0/s2PWeBvPy9C2Fhy9spzefMCDDsb+qx/EYJlySfn5Y2PgNqjvtv6VgSEZbHT9sn1yoPDh2iOgLG80kMjAtayqu/wDSrskF//HCrtIbd+FxzsnPkAIxcHOf0ZnoGTPRBtgNtE5Oogw9dfgbO9RfVj5O4gxxRmAB7WRQB6Pg5SG+EXeNmH+kdAHMQd8LQTw8EXXwcLQ0bA23RpeeLv4L7mYOTvIK91jagrdVzHwVy2A20P96CWTSRnoJ9DVM9BJogiPZbu1nVwKjnE8kFGdR0UH6EFtS2mpCD5bv/tcUiJwlNkcw1LIdM+krf+EFqSDG2N7gbNkFCVHvZ1TYS0j6XOFA+jZGiniWUiQBBiVAv+Ha+OkPbx7L3UhB3ilg3sTGTf2gM0DtuBibACCC5RWOQQYhNhBdDCjwFRIxOBBFiq0j4SoSYCCQAww8VAR6ABlpKAKrqOwACoc8TVpIzAAShN2YEqBA5ABcJvqEBgAeCG0rMtAgugImkKPAIPANdkZbFG4AFUKJKKWiDwAEpXSQdJ6YVFAigHdGJubx1cMimari+3CDSAEjWmQG1XAygHtPMNQov7TcAlns7KwZj7TeBQk7N1PLeFIgiDRo/bQs/hUTCAWqeQbp53DELKBFLX5TWT06Gclt6XNAJzF4prGPMIGXmdC4Bxh0dYkIKyAtgLk68swjUlaWuAdThSCHNKVNcAKlRYhBtC1rcAFQgHRGLZAlQgnOKprQzAI5zjybUMwCMM0fSuA7AIM7TA0AE4hBwtcUwABmGBFlkmAIMwZ8q8sa2OeJm3i8S3AbBGmKKFJlLqTmwp7uBvqyFZbO8ZYrtEmOLFNqYIEzsZtTGABfngsJNREk+pBwfW/UDaiodkH0T86BI/++QPT/HTV/z4Fj//5Q0IcQsk6NVZn95mG0jciBK3wuTNOHE7UNyQlLdExU1ZeVtY3JgWt8blzXnxeEA+oJCPSMRDGvmYSDyochqVvfu/wzr5uFA8sJSPTOVDW/nYWD64voXRuXx47/7vA38B7tIob/Xw8BcAAAAASUVORK5CYII="}}]);