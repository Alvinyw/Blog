(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54b8e8a7","chunk-060beb53"],{2787:function(e,t,r){},5103:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-button",{staticClass:"btn-back",on:{click:function(t){return e.$router.go(-1)}}},[e._v(e._s(e.text))])},a=[],o={name:"BackButton",data:function(){return{text:this.$t("m.managementCenter['返回上级']")}}},n=o,i=(r("bc6d"),r("2877")),l=Object(i["a"])(n,s,a,!1,null,"4cb92829",null);t["a"]=l.exports},9244:function(e,t,r){},a33b:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"container"},[r("el-row",{staticClass:"topTip"},[r("span",[e._v(e._s(e.productName))]),r("BackButton")],1),r("FormBoard",{attrs:{state:e.state,fileListOrigin:e.fileListDefault,paymentTypesAry:e.paymentTypesAry,resourceFormOrigin:e.defaultData,submitLoading:e.submitLoading},on:{onSubmit:e.onSubmit}})],1)},a=[],o=(r("6b54"),r("c5f6"),r("e32c")),n=r("5103"),i={name:"ApplyForm",components:{FormBoard:o["default"],BackButton:n["a"]},props:{submitLoading:Boolean},data:function(){return{loading:!1,productName:"",paymentTypesAry:[],fileListDefault:[],defaultData:{connectType:"1",ifUseSelfOwnedBrand:"1",brandLogo:"",brandName:"",productFirstColor:"",paymentType:""}}},computed:{state:function(){return Number(this.$route.query.state)}},methods:{setFormData:function(e){var t=e.productName,r=e.connectType,s=e.brandName,a=e.paymentType,o=e.paymentTypes,n=e.brandLogo,i=e.productFirstColor;this.defaultData={connectType:r.toString(),brandLogo:n,brandName:s,productFirstColor:i,paymentType:a,ifUseSelfOwnedBrand:n?"1":"0"},this.productName=t,this.fileListDefault=n?[{name:name,url:n}]:[],this.paymentTypesAry=this.$product.getFilterPaymentTypes(o||[a])},getFormData:function(){var e=this;return this.loading=!0,this.$api.merchant.getMerchantRightInfo(this.$route.query.id).then(function(t){e.setFormData(t.data[0]),e.loading=!1}).catch(function(t){e.loading=!1,e.$message.error(t.message)})},onSubmit:function(e){2===this.state?this.$emit("onEdit",e):3===this.state&&this.$emit("onReapply",e)}},mounted:function(){this.getFormData()}},l=i,c=(r("c9e8"),r("2877")),u=Object(c["a"])(l,s,a,!1,null,"10b24194",null);t["default"]=u.exports},af62:function(e,t,r){"use strict";var s=r("2787"),a=r.n(s);a.a},bc6d:function(e,t,r){"use strict";var s=r("f20a"),a=r.n(s);a.a},c9e8:function(e,t,r){"use strict";var s=r("9244"),a=r.n(s);a.a},cd7b:function(e,t,r){"use strict";var s=r("fdfc"),a=r.n(s);a.a},e32c:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{staticClass:"application-form-board"},[r("el-col",{staticClass:"ct-lt",attrs:{span:14}},[r("el-form",{ref:"resourceForm",attrs:{model:e.resourceForm,rules:e.resourceFormRules,"label-width":"170px"}},[r("el-form-item",{attrs:{label:e.$t("m.resourceCenter['对接方式']"),prop:"connectType"}},[r("el-radio",{attrs:{label:"1",border:""},model:{value:e.resourceForm.connectType,callback:function(t){e.$set(e.resourceForm,"connectType",t)},expression:"resourceForm.connectType"}},[e._v("H5")])],1),r("el-form-item",{attrs:{label:e.$t("m.resourceCenter['是否使用自营品牌']"),required:""}},[r("el-radio",{attrs:{label:"1",border:""},on:{change:e.changeIfUseSelfOwnedBrand},model:{value:e.resourceForm.ifUseSelfOwnedBrand,callback:function(t){e.$set(e.resourceForm,"ifUseSelfOwnedBrand",t)},expression:"resourceForm.ifUseSelfOwnedBrand"}},[e._v(e._s(e.$t("m.是")))]),r("el-radio",{attrs:{label:"0",border:""},on:{change:e.changeIfUseSelfOwnedBrand},model:{value:e.resourceForm.ifUseSelfOwnedBrand,callback:function(t){e.$set(e.resourceForm,"ifUseSelfOwnedBrand",t)},expression:"resourceForm.ifUseSelfOwnedBrand"}},[e._v(e._s(e.$t("m.否")))])],1),e.ifShowFullForm?r("div",[r("el-form-item",{staticClass:"uploadLogo",attrs:{label:e.$t("m.resourceCenter['品牌LOGO']"),required:"",prop:"brandLogo"}},[r("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.uploadingImage,expression:"uploadingImage"}],staticClass:"upload-demo",attrs:{drag:"",action:"",accept:"image/png","before-upload":e.beforeUpload,"file-list":e.fileList,"http-request":e.handleHttpRequest,"on-change":e.handleChange}},[r("i",{staticClass:"el-icon-upload"}),r("div",{staticClass:"el-upload__text"},[r("p",{staticClass:"c"},[e._v(e._s(e.$t("m.resourceCenter['点击上传图片']")))]),r("p",{staticClass:"u"},[e._v(e._s(e.$t("m.resourceCenter['请上传PNG格式，且小于1M的LOGO图片']")))])])])],1),r("el-form-item",{attrs:{label:e.$t("m.resourceCenter['品牌名称']"),prop:"brandName"}},[r("el-input",{attrs:{placeholder:e.$t("m.placeholder['请输入']")},model:{value:e.resourceForm.brandName,callback:function(t){e.$set(e.resourceForm,"brandName",t)},expression:"resourceForm.brandName"}})],1),r("el-form-item",{staticClass:"colorWrap",attrs:{label:e.$t("m.resourceCenter['主题颜色']"),prop:"productFirstColor"}},[r("el-input",{attrs:{placeholder:e.$t("m.placeholder['请输入']")},model:{value:e.resourceForm.productFirstColor,callback:function(t){e.$set(e.resourceForm,"productFirstColor",t)},expression:"resourceForm.productFirstColor"}}),r("el-color-picker",{model:{value:e.resourceForm.productFirstColor,callback:function(t){e.$set(e.resourceForm,"productFirstColor",t)},expression:"resourceForm.productFirstColor"}})],1)],1):e._e(),r("el-form-item",{attrs:{label:e.$t("m.resourceCenter['计费方式']"),prop:"paymentType"}},[r("el-select",{attrs:{placeholder:e.$t("m.placeholder['请选择']")},model:{value:e.resourceForm.paymentType,callback:function(t){e.$set(e.resourceForm,"paymentType",t)},expression:"resourceForm.paymentType"}},e._l(e.paymentTypesAry,function(t){return r("el-option",{key:t.value,attrs:{label:e.$t("m.setting['"+t.label+"']"),value:t.value}})}),1)],1),0===e.state?r("el-form-item",[r("el-button",{staticClass:"btnSubmit",attrs:{type:"primary",loading:e.submitLoading},on:{click:e.onSubmit}},[e._v(e._s(e.$t("m.resourceCenter['立即开通']")))])],1):e._e(),2===e.state||3===e.state?r("el-form-item",[r("el-button",{staticClass:"btnSubmit",attrs:{type:"primary",loading:e.submitLoading,disabled:e.ifSubmitDisable},on:{click:e.onSubmit}},[e._v(e._s(2===e.state?e.$t("m.提交"):e.$t("m.resourceCenter['重新申请']")))])],1):e._e()],1)],1),r("el-col",{staticClass:"ct-rt",attrs:{span:10}},[r("div",{staticClass:"sec"},[r("p",{staticClass:"title"},[e._v(e._s(e.$t("m.resourceCenter['当前配置']")))]),r("ul",[r("li",[r("span",{staticClass:"lt"},[e._v(e._s(e.$t("m.resourceCenter['对接模式']")))]),r("span",{staticClass:"rt"},[e._v(e._s(e._f("filterConnectType")(e.resourceForm.connectType)))])]),r("li",[r("span",{staticClass:"lt"},[e._v(e._s(e.$t("m.resourceCenter['是否使用自营品牌']")))]),r("span",{staticClass:"rt"},[e._v(e._s(e.ifShowFullForm?e.$t("m.是"):e.$t("m.否")))])])]),r("ul",{directives:[{name:"show",rawName:"v-show",value:e.ifShowFullForm,expression:"ifShowFullForm"}]},[r("li",[r("span",{staticClass:"lt"},[e._v(e._s(e.$t("m.resourceCenter['品牌名称']")))]),r("span",{staticClass:"rt"},[e._v(e._s(e.resourceForm.brandName))])]),r("li",[r("span",{staticClass:"lt"},[e._v(e._s(e.$t("m.resourceCenter['品牌LOGO']")))]),r("span",{staticClass:"rt"},[r("el-image",{staticStyle:{width:"100px",height:"40px",border:"1px solid #eee","background-color":"#f5f5f5"},attrs:{src:e.resourceForm.brandLogo,fit:"scale-down"}},[r("div",{staticClass:"image-slot",staticStyle:{"text-align":"center","font-size":"18px",color:"#999","line-height":"38px"},attrs:{slot:"error"},slot:"error"},[r("i",{staticClass:"el-icon-picture-outline"})])])],1)]),r("li",[r("span",{staticClass:"lt"},[e._v(e._s(e.$t("m.resourceCenter['主题颜色']")))]),r("span",{staticClass:"rt"},[e._v(e._s(e.resourceForm.productFirstColor))])])]),r("ul",[r("li",[r("span",{staticClass:"lt"},[e._v(e._s(e.$t("m.resourceCenter['计费方式']")))]),r("span",{staticClass:"rt"},[e._v(e._s(e.$product.getPaymentType(e.resourceForm.paymentType)?e.$t("m.setting['"+e.$product.getPaymentType(e.resourceForm.paymentType)+"']"):e.$product.getPaymentType(e.resourceForm.paymentType)))])])])])])],1)},a=[],o=(r("c5f6"),{name:"ApplicationFormBoard",props:{state:Number,submitLoading:Boolean,paymentTypesAry:Array,fileListOrigin:Array,resourceFormOrigin:Object},data:function(){return{fileList:[],uploadingImage:!1,resourceForm:{connectType:"1",ifUseSelfOwnedBrand:"1",brandLogo:"",brandName:"",productFirstColor:"",paymentType:""},ifSubmitDisable:!0}},computed:{ifShowFullForm:function(){return"1"===this.resourceForm["ifUseSelfOwnedBrand"]},resourceFormRules:function(){return{connectType:[{required:!0,message:this.$t("m.message['请选择对接模式']"),trigger:"blur"}],ifUseSelfOwnedBrand:[{required:!0,message:this.$t("m.managementCenter['是否使用自营品牌']")}],brandLogo:[{required:!0,message:this.$t("m.message['请上传品牌Logo']"),trigger:"change"}],brandName:[{required:!0,message:this.$t("m.message['请输入品牌名称']")}],productFirstColor:[{required:!0,message:this.$t("m.message['请输入主题主要颜色']")}],paymentType:[{required:!0,message:this.$t("m.message['请选择计费方式']"),trigger:"blur"}]}}},watch:{paymentTypesAry:function(e){Array.isArray(e)&&(this.fileList=this.fileListOrigin,this.resourceForm=Object.assign({},this.resourceFormOrigin))},resourceForm:{handler:function(e){this.ifSubmitDisable=JSON.stringify(this.resourceFormOrigin)===JSON.stringify(e)},deep:!0}},methods:{changeIfUseSelfOwnedBrand:function(e){"1"===e?(this.fileList=this.fileListOrigin,this.resourceForm=Object.assign({},this.resourceFormOrigin),this.resourceForm["ifUseSelfOwnedBrand"]=e):(this.fileList=[],this.resourceForm.brandLogo="",this.resourceForm.brandName="",this.resourceForm.productFirstColor="")},handleExceed:function(){this.$message.error(this.$t("m.message['只能上传一张 Logo 图片']"))},beforeUpload:function(e){var t=this,r="image/png"===e.type,s=e.size/1024/1024<1;return r?!!s||(t.$message.error(this.$t("m.message['Logo 图片大小不可超过1MB']")),!1):(t.$message.error(this.$t("m.message['请上传格式为 png 的 Logo 图片']")),!1)},handleHttpRequest:function(e){var t=this;this.uploadingImage=!0;var r=new FormData;r.append("file",e.file),this.$api.resource.fileUpload(r).then(function(e){t.resourceForm.brandLogo=e.data[0],t.uploadingImage=!1}).catch(function(e){t.fileList=[],t.uploadingImage=!1,t.$message.error(e.message)})},handleChange:function(e,t){this.fileList=t.slice(-1)},onSubmit:function(){var e=this;this.$refs["resourceForm"].validate(function(t){if(!t)return!1;e.$emit("onSubmit",e.resourceForm)})}}}),n=o,i=(r("cd7b"),r("af62"),r("2877")),l=Object(i["a"])(n,s,a,!1,null,"4ee66554",null);t["default"]=l.exports},f20a:function(e,t,r){},fdfc:function(e,t,r){}}]);