(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aba3dd1c","chunk-2d547b0d"],{4420:function(e,t,r){"use strict";var n=r("9d3b"),a=r.n(n);a.a},5103:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-button",{staticClass:"btn-back",on:{click:function(t){return e.$router.go(-1)}}},[e._v(e._s(e.text))])},a=[],o={name:"BackButton",data:function(){return{text:this.$t("m.managementCenter['返回上级']")}}},i=o,s=(r("bc6d"),r("2877")),p=Object(s["a"])(i,n,a,!1,null,"4cb92829",null);t["a"]=p.exports},"5d5d":function(e,t,r){},"5e80":function(e,t,r){"use strict";var n=r("5d5d"),a=r.n(n);a.a},"5f76":function(e,t,r){},"9d3b":function(e,t,r){},b5cd:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"container serviceEditForm"},[r("el-row",{staticClass:"topTip"},[r("span",[e._v(e._s(e.productName))]),r("BackButton")],1),r("FormBoard",{staticClass:"apply-detail",attrs:{state:e.state,submitLoading:e.submitLoading,paymentTypesAry:e.paymentTypesAry,cooperationType:e.cooperationType,settlementPrice:e.settlementPrice,applyFormOrigin:e.applyForm},on:{onSubmit:e.onSubmit}})],1)},a=[],o=(r("96cf"),r("3b8d")),i=(r("c5f6"),r("f646")),s=r("5103"),p={name:"EditForm",components:{FormBoard:i["default"],BackButton:s["a"]},props:{submitLoading:Boolean},data:function(){return{loading:!1,productName:"",cooperationType:null,settlementPrice:null,paymentTypesAry:[],applyForm:{price:"",connectType:"2",paymentType:null},applyFormDefault:{price:"",connectType:"2",paymentType:null},ifEditDisable:!0,ifReapplyDisable:!0}},computed:{state:function(){return Number(this.$route.query.state)}},methods:{formatPrice:function(e){return this.cooperationType||2===this.cooperationType?"".concat(e).concat(this.$t("m.元/次")):e},getFormData:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,o,i,s,p;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.$api.merchant.getMerchantRightInfo(this.$route.query.id);case 3:t=e.sent,t.data&&t.data[0]?(r=t.data[0],n=r.productName,a=r.paymentType,o=r.paymentTypes,i=r.connectType,s=r.settlementPrice,p=r.cooperationType,this.productName=n,this.settlementPrice=s,this.cooperationType=p?Number(p):p,this.paymentTypesAry=this.$product.getFilterPaymentTypes(o||[a]),this.applyForm={connectType:i,paymentType:a,price:this.formatPrice(s)},this.applyFormDefault={connectType:i,paymentType:a,price:this.formatPrice(s)},this.loading=!1):this.loading=!1;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(e){2===this.state?this.$emit("onEdit",e):3===this.state&&this.$emit("onReapply",e)}},mounted:function(){this.getFormData()}},c=p,l=(r("5e80"),r("2877")),m=Object(l["a"])(c,n,a,!1,null,"63c7108a",null);t["default"]=m.exports},bc6d:function(e,t,r){"use strict";var n=r("f20a"),a=r.n(n);a.a},e82b:function(e,t,r){"use strict";var n=r("5f76"),a=r.n(n);a.a},f20a:function(e,t,r){},f646:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{staticClass:"service-form-board"},[r("el-col",{attrs:{span:12}},[r("el-form",{ref:"applyForm",attrs:{model:e.applyForm,rules:e.applyFormRule,"label-width":"150px"}},[r("el-form-item",{attrs:{label:e.$t("m.resourceCenter['对接方式']"),prop:"connectType"}},[r("el-radio",{attrs:{label:e.applyForm.connectType,border:""},model:{value:e.applyForm.connectType,callback:function(t){e.$set(e.applyForm,"connectType",t)},expression:"applyForm.connectType"}},[e._v(e._s(e._f("filterConnectType")(e.applyForm.connectType)))])],1),2===e.cooperationType&&e.settlementPrice?r("el-form-item",{staticClass:"strong",attrs:{prop:"price",label:e.$t("m.resourceCenter['产品定价']"),required:""}},[e._v(e._s(e.applyForm.price))]):e._e(),r("el-form-item",{attrs:{label:e.$t("m.resourceCenter['计费方式']"),prop:"paymentType"}},[r("el-select",{attrs:{placeholder:e.$t("m.placeholder['请选择']")},model:{value:e.applyForm.paymentType,callback:function(t){e.$set(e.applyForm,"paymentType",t)},expression:"applyForm.paymentType"}},e._l(e.paymentTypesAry,function(t){return r("el-option",{key:t.value,attrs:{value:t.value,label:e.$t("m.setting['"+t.label+"']")}})}),1)],1),0===e.state?r("el-form-item",[r("el-button",{staticClass:"btnSubmit",attrs:{type:"primary",loading:e.submitLoading},on:{click:e.onSubmit}},[e._v(e._s(e.$t("m.resourceCenter['立即开通']")))])],1):e._e(),2===e.state||3===e.state?r("el-form-item",[r("el-button",{staticClass:"btnSubmit",attrs:{type:"primary",loading:e.submitLoading,disabled:e.ifSubmitDisable},on:{click:e.onSubmit}},[e._v(e._s(2===e.state?e.$t("m.提交"):e.$t("m.resourceCenter['重新申请']")))])],1):e._e()],1)],1),r("el-col",{staticClass:"config",attrs:{span:8,offset:4}},[r("h3",{staticClass:"config-title"},[e._v(e._s(e.$t("m.resourceCenter['当前配置']")))]),r("div",{staticClass:"config-info"},[r("p",[r("span",[e._v(e._s(e.$t("m.resourceCenter['对接模式']")))]),r("strong",[e._v(e._s(e._f("filterConnectType")(e.applyForm.connectType)))])]),2===e.cooperationType&&e.settlementPrice?r("p",[r("span",[e._v(e._s(e.$t("m.resourceCenter['产品定价']")))]),r("strong",{staticClass:"strong"},[e._v(e._s(e.applyForm.price))])]):e._e(),r("p",[r("span",[e._v(e._s(e.$t("m.resourceCenter['计费方式']")))]),r("strong",[e._v(e._s(e.$product.getPaymentType(e.applyForm.paymentType)?e.$t("m.setting['"+e.$product.getPaymentType(e.applyForm.paymentType)+"']"):e.$product.getPaymentType(e.applyForm.paymentType)))])])])])],1)},a=[],o=(r("8e6e"),r("ac6a"),r("456d"),r("bd86"));r("c5f6");function i(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach(function(t){Object(o["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var p={name:"ServiceFormBoard",props:{state:Number,submitLoading:Boolean,paymentTypesAry:Array,cooperationType:Number,settlementPrice:Number,applyFormOrigin:Object},data:function(){return{applyForm:{price:"",connectType:"2",paymentType:null},ifSubmitDisable:!0}},computed:{applyFormRule:function(){return{connectType:[{required:!0,message:this.$t("m.message['请选择对接模式']"),trigger:"blur"}],paymentType:[{required:!0,message:this.$t("m.message['请选择计费方式']")}]}}},watch:{paymentTypesAry:function(e){Array.isArray(e)&&(this.applyForm=Object.assign({},this.applyFormOrigin))},applyForm:{handler:function(e){this.ifSubmitDisable=JSON.stringify(e)===JSON.stringify(this.applyFormOrigin)},deep:!0}},methods:{onSubmit:function(){var e=this;this.$refs["applyForm"].validate(function(t){if(!t)return!1;e.$emit("onSubmit",s({},e.applyForm,{settlementPrice:e.settlementPrice}))})}}},c=p,l=(r("e82b"),r("4420"),r("2877")),m=Object(l["a"])(c,n,a,!1,null,"97f7081a",null);t["default"]=m.exports}}]);