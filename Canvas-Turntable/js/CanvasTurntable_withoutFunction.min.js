!function(b){b.fn.AddCanvasTurntable_withoutFunction=function(t){var e,a,n,i,o=b.extend({sectorText:"",colors:"",rotateTime:"",fontSize:"",defaultSpacing:""},t),r=this,s=o.rotateTime?o.rotateTime:6,l=o.colors?o.colors:["#e9536a","#fbd7a1","#df6679","#000","#fff","#666"],f=o.fontSize?o.fontSize:16,c=o.defaultSpacing?o.defaultSpacing:35,d=o.sectorText?o.sectorText:["扇形一","扇形二","扇形三","扇形四","扇形五","扇形六","扇形七","扇形八","扇形九","扇形十","扇形十一","扇形十二","扇形十三","扇形十四"],h=d.length,g=r.width(),p=r.attr("id"),m=Date.parse(new Date)/1e3,u=p+"canvasWrapper-"+m,v=p+"canvas1-"+m,P=p+"canvas2-"+m,x=p+"clickBtn-"+m;!function(){var t=b("<div id='"+u+"'>");t.css({height:r.width(),width:r.width(),position:"relative"});var e=b("<canvas id='"+v+"' class='canvas1' width='"+g+"px' height='"+g+"px'>");e.css({"border-radius":"100%",transition:"transform "+s+"s","-o-transition":"transform "+s+"s","-ms-transition":"transform "+s+"s","-moz-transition":"transform "+s+"s","-webkit-transition":"transform "+s+"s","transform-origin":"50% 50%","-o-transform-origin":"50% 50%","-ms-transform-origin":"50% 50%","-moz-transform-origin":"50% 50%","-webkit-transform-origin":"50% 50%"}),t.append(e);var a=b("<canvas id='"+P+"' class='canvas2' width='"+g+"px' height='"+g+"px'>");a.css({position:"absolute",top:"0",left:"0","z-index":"30"}),t.append(a);var i=b("<button id='"+x+"' class='startBtn'>");i.css({position:"absolute",top:"50%",left:"50%",width:g/5,height:g/5,"margin-top":-g/10,"margin-left":-g/10,"border-radius":"100%",cursor:"pointer",border:"none",background:"transparent",outline:"none","z-index":"40"}),t.append(i),r.append(t)}(),e=document.getElementById(v),a=document.getElementById(P),n=e.getContext("2d"),i=a.getContext("2d"),function(){for(var t=0,e=0,a=0;a<h;a++)t=a*Math.PI*2/h-Math.PI/2+2*Math.PI/h/2,e=t+2*Math.PI*(1/h),n.save(),n.beginPath(),n.arc(g/2,g/2,g/2,t,e,!1),n.lineWidth=g,n.strokeStyle=a%2==0?l[0]:l[1],a==h-1&&h%2!=0&&(n.strokeStyle=l[2]),n.stroke(),n.restore();n.beginPath(),n.arc(g/2,g/2,g/10,0,2*Math.PI,!1),n.fillStyle=l[4],n.fill(),n.closePath()}(),function(){n.textAlign="start",n.textBaseline="middle",n.fillStyle=l[3];for(var t=2*Math.PI/h,e=0;e<h;e++){n.save(),n.beginPath(),n.translate(g/2,g/2),n.rotate(e*t),n.font="Bold "+f+"px Microsoft YaHei",n.fillStyle=l[3];for(var a=d[e].split(""),i=0;i<a.length;i++)"("==a[i]||"（"==a[i]?a[i]="︵":")"!=a[i]&&"）"!=a[i]||(a[i]="︶"),n.fillText(a[i],-8,20*f/16*i-(g/2-c),20);n.closePath(),n.restore()}}(),i.beginPath(),i.strokeStyle=l[5],i.arc(g/2,g/2,g/2-2,0,2*Math.PI,!1),i.lineWidth=3,i.stroke(),i.closePath(),i.beginPath(),i.moveTo(g/2,.3*g),i.lineTo(g/2-9,g/2),i.lineTo(g/2+9,g/2),i.lineTo(g/2,.3*g),i.fillStyle=l[5],i.fill(),i.closePath(),i.beginPath(),i.arc(g/2,g/2,g/10-3,0,2*Math.PI,!1),i.fillStyle=l[5],i.fill(),i.closePath(),i.font="Bold 18px Microsoft YaHei",i.textAlign="start",i.textBaseline="middle",i.fillStyle=l[4],i.beginPath(),i.fillText("开始",g/2-16,g/2-1,40),i.fill(),i.closePath()}}(jQuery);