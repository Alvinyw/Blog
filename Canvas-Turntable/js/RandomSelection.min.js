!function(A){A.fn.AddRandomSelection=function(e){var r=A.extend({defaultArray:"",defaultLinks:"",rollSpeed:null,rollTime:null,alertText:"",resultTitle:"",ifAllowRepeatedSelection:!1},e),n=this,s=(n.width(),r.defaultArray?r.defaultArray:["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15"]),o=r.defaultLinks?r.defaultLinks:["C:Program Files","C:Program Files","C:Program Files","C:Program Files","C:Program Files","C:Program Files","C:Program Files","C:Program Files","C:Program Files","C:Program Files","C:Program Files","C:Program Files","C:Program Files","C:Program Files","C:Program Files"],l=new Array,a=r.rollSpeed?r.rollSpeed:60,t=r.rollTime?r.rollTime:30,d=r.resultTitle?r.resultTitle:"当前已选中的结果如下：",i=r.alertText?r.alertText:"内容已全部被选中！",u=!!r.ifAllowRepeatedSelection&&r.ifAllowRepeatedSelection,c=0,f=Date.parse(new Date)/1e3,p="selectionWrapper-"+f,C="itemGrp-"+f,m="btnStart-"+f,g="result-"+f;!function(){var e=A("<div id='"+p+"' class='selectionWrapper'>");e.css({width:n.width(),position:"relative"});var r=A("<ul id='"+C+"' class='itemGrp'>");e.append(r);var l=A("<button id='"+m+"' class='btnStart'>开始</button>");e.append(l);var a=A("<div id='"+g+"' class='result'>"),t=A("<h3>"+d+"</h3>");a.append(t),e.append(a),n.append(e);for(var i=0;i<s.length;i++)A("#"+C).append("<li><a target='_blank' href='"+o[i]+"'>"+s[i]+"</a></li>")}();var v,h=!1,F=null,P=0,b=A("#"+g);function S(){h=!1,A("#"+m).removeClass("disable"),clearInterval(F);var e=A("<span><i>"+ ++c+"</i><a target='_blank' href='"+o[v]+"'>"+s[v]+"</a></span>");l.length,l.push(s[v]),b.append(e)}function T(e,r){for(var l=0;l<e.length;l++)if(e[l]==r)return!0;return!1}function w(e,r){return Math.floor(Math.random()*(r-e+1)+e)}A("body").on("click","#"+m,function(){if(!h)if(A("#"+C+" li").removeClass("current"),u)h=!0,P=0,A("#"+m).addClass("disable"),F=setInterval(function(){for(var e=0;-1<e;e++){var r=w(0,s.length-1);if(r!=v)return v=r,A("#"+C+" li").removeClass("current"),A("#"+C+" li").eq(v).addClass("current"),t<++P&&S(),!0}},a);else if(A("#"+C+" li").eq(v).addClass("selected"),l.length<s.length)if(h=!0,P=0,s.length-l.length==1){for(var e=0;-1<e;e++)if(v=w(0,s.length-1),!T(l,s[v]))return A("#"+C+" li").removeClass("current"),A("#"+C+" li").eq(v).addClass("current"),S(),!0}else A("#"+m).addClass("disable"),F=setInterval(function(){for(var e=0;-1<e;e++)if(v=w(0,s.length-1),!T(l,s[v]))return A("#"+C+" li").removeClass("current"),A("#"+C+" li").eq(v).addClass("current"),t<++P&&S(),!0},a);else alert(i)}),A("body").on("click","#"+C+" li",function(){return!h&&(v=A(this).index(),u?(A("#"+C+" li.current").removeClass("current"),A("#"+C+" li").eq(v).addClass("current"),S(),!0):T(l,s[v])?void 0:(A("#"+C+" li.current").removeClass("current").addClass("selected"),A("#"+C+" li").eq(v).addClass("current"),S(),!0))})}}(jQuery);