(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ae49529c"],{"29e1":function(n,o,t){},"7fc5":function(n,o,t){"use strict";var i=t("29e1"),f=t.n(i);f.a},"946d":function(n,o,t){"use strict";t.r(o);var i=function(){var n=this,o=n.$createElement,t=n._self._c||o;return t("div",{attrs:{id:"main"}},[t("a",{attrs:{href:"javascript:void(0)"},on:{click:n.fuc_getPointInfo}},[n._v("getPointInfo")]),t("div",{attrs:{id:"canvasdrag"}})])},f=[],I=t("1157");t("1157");function p(n){var o=this,t={operationPanel:"#operationPanel",canvasWrapperClass:"canvasDragWrapper",dragBgContentClass:"dragBgContent",canvasEditerClass:"canvasEditer",defaultPointInfo:0,dragBgSrc:"",canvasWrapperBorder:"1px solid #ddd",brushThickness:3,defaultLineColor:"#50a8e1",errorLineColor:"red",defaultRadiusColor:"#50a8e1",errorRadiusColor:"red",innerRadiusFillColor:"rgba(255,255,255,.5)",vertexOuterRadius:6,vertexInnerRadius:5,midpointOuterRadius:5,midpointInnerRadius:4,mouseX:"#mouseX",mouseY:"#mouseY"},i=I.extend(t,n),f=i.brushThickness,p=i.vertexOuterRadius<f+4?f+4:i.vertexOuterRadius,e=i.vertexInnerRadius>p-1?p-1:i.vertexInnerRadius<f+3?f+3:i.vertexInnerRadius,a=i.midpointOuterRadius>e?e:i.midpointOuterRadius<f+3?f+3:i.midpointOuterRadius,r=i.midpointInnerRadius>a-1?a-1:i.midpointInnerRadius<f+2?f+2:i.midpointInnerRadius;I(i.operationPanel).html('<div class="'+i.canvasWrapperClass+'" oncontextmenu="return false;"><div class="'+i.dragBgContentClass+'"></div><canvas class="'+i.canvasEditerClass+'"></canvas></div>'),o.pointInfo=new Array(8),o.midPointInfo=new Array(8);var s,d,h,l,u,c,m=new Array(8),v=new Array(4),g=!1,P=!1,w="",y=I(i.operationPanel+" ."+i.canvasWrapperClass),C=I(i.operationPanel+" ."+i.dragBgContentClass),R=I(i.operationPanel+" ."+i.canvasEditerClass),b=I(i.operationPanel).width(),x=I(i.operationPanel).height(),k=b/x;if(y.css({position:"relative",width:b,height:x,border:i.canvasWrapperBorder}),C.css({position:"relative",width:b,height:x}),R.css({position:"absolute",top:0,left:0,"user-select":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none"}),R.attr("width",b).attr("height",x),""!=i.dragBgSrc){var B=new Image;B.src=i.dragBgSrc,B.onload=function(){var n=B.width/B.height;if(I(B).css("position","absolute"),n>k?(B.width=b,B.height=b/n,I(B).css({top:(x-B.height)/2,left:0})):(B.height=x,B.width=B.height*n,I(B).css({top:0,left:(b-B.width)/2})),R.attr("width",B.width).attr("height",B.height),R.css({top:(x-B.height)/2,left:(b-B.width)/2}),8==i.defaultPointInfo.length)for(var t=0;t<i.defaultPointInfo.length;t++)o.pointInfo[t]=i.defaultPointInfo[t];else o.pointInfo[0]=0,o.pointInfo[1]=0,o.pointInfo[2]=B.width,o.pointInfo[3]=0,o.pointInfo[4]=B.width,o.pointInfo[5]=B.height,o.pointInfo[6]=0,o.pointInfo[7]=B.height;O()},C.append(B)}else if(8==i.defaultPointInfo.length)for(var M=0;M<i.defaultPointInfo.length;M++)o.pointInfo[M]=i.defaultPointInfo[M];else o.pointInfo[0]=0,o.pointInfo[1]=0,o.pointInfo[2]=R.width(),o.pointInfo[3]=0,o.pointInfo[4]=R.width(),o.pointInfo[5]=R.height(),o.pointInfo[6]=0,o.pointInfo[7]=R.height();function O(){var n=R[0].getContext("2d");n.clearRect(0,0,R.width(),R.height()),S(),n.beginPath(),n.strokeStyle=g?i.errorLineColor:i.defaultLineColor,n.lineWidth=f,n.moveTo(o.pointInfo[0],o.pointInfo[1]),n.lineTo(o.pointInfo[2],o.pointInfo[3]),n.lineTo(o.pointInfo[4],o.pointInfo[5]),n.lineTo(o.pointInfo[6],o.pointInfo[7]),n.closePath(),n.stroke(),W(o.pointInfo[0],o.pointInfo[1],p,e),W(o.pointInfo[2],o.pointInfo[3],p,e),W(o.pointInfo[4],o.pointInfo[5],p,e),W(o.pointInfo[6],o.pointInfo[7],p,e),W(o.midPointInfo[0],o.midPointInfo[1],a,r),W(o.midPointInfo[2],o.midPointInfo[3],a,r),W(o.midPointInfo[4],o.midPointInfo[5],a,r),W(o.midPointInfo[6],o.midPointInfo[7],a,r)}function W(n,o,t,f){var I=R[0].getContext("2d");I.beginPath(),I.strokeStyle=g?i.errorRadiusColor:i.defaultRadiusColor,I.lineWidth=2*(t-f),I.arc(n,o,t,0,2*Math.PI),I.stroke(),I.closePath(),I.beginPath(),I.fillStyle=i.innerRadiusFillColor,I.arc(n,o,f,0,2*Math.PI),I.fill(),I.closePath()}function S(){var n=o.pointInfo;return o.midPointInfo[0]=(n[0]+n[2])/2,o.midPointInfo[1]=(n[1]+n[3])/2,o.midPointInfo[2]=(n[2]+n[4])/2,o.midPointInfo[3]=(n[3]+n[5])/2,o.midPointInfo[4]=(n[4]+n[6])/2,o.midPointInfo[5]=(n[5]+n[7])/2,o.midPointInfo[6]=(n[6]+n[0])/2,o.midPointInfo[7]=(n[7]+n[1])/2,o.midPointInfo}function T(){for(var n=0;n<4;n++)n<3?o.pointInfo[2*n+3]-o.pointInfo[2*n+1]==0&&o.pointInfo[2*(n+1)]-o.pointInfo[2*n]==0?v[n]=0:v[n]=(o.pointInfo[2*n+3]-o.pointInfo[2*n+1])/(o.pointInfo[2*(n+1)]-o.pointInfo[2*n]):3==n&&(o.pointInfo[7]-o.pointInfo[1]==0&&o.pointInfo[6]-o.pointInfo[0]==0?v[3]=0:v[3]=(o.pointInfo[7]-o.pointInfo[1])/(o.pointInfo[6]-o.pointInfo[0]));return v}function E(){for(var n=0;n<o.pointInfo.length/2;n++)o.pointInfo[2*n]<0?o.pointInfo[2*n]=0:o.pointInfo[2*n]>R.width()-1&&(o.pointInfo[2*n]=R.width()-1),o.pointInfo[2*n+1]<0?o.pointInfo[2*n+1]=0:o.pointInfo[2*n+1]>R.height()-1&&(o.pointInfo[2*n+1]=R.height()-1)}function X(){var n=o.pointInfo,t=n[0],i=n[1],f=n[2],I=n[3],p=n[4],e=n[5],a=n[6],r=n[7],s=e-i,d=t-p,h=p*i-t*e,l=r-I,u=f-a,c=a*I-f*r;return s*f+d*I+h>0&&s*a+d*r+h<0&&l*t+u*i+c<0&&l*p+u*e+c>0?(P=!1,!1):(P=!0,!0)}O(),R.on("mousedown",function(n){for(var t=R[0].getContext("2d"),f=(n||window.event).offsetX,y=(n||window.event).offsetY,C=0;C<m.length;C++)m[C]=C<4?Math.abs(o.pointInfo[2*C]-f)<2*p-e&&Math.abs(o.pointInfo[2*C+1]-y)<2*p-e:Math.abs(o.midPointInfo[2*(C-4)]-f)<2*a-r&&Math.abs(o.midPointInfo[2*(C-4)+1]-y)<2*a-r;for(C=m.length-1;C>-1;C--)if(C<4&&1==m[C])for(var b=0;b<m.length;b++)C!=b&&(m[b]=!1);for(C=0;C<m.length;C++)1!=m[C]||P||(w=C,C<4?(s=o.pointInfo[2*C],d=o.pointInfo[2*C+1]):(h=o.pointInfo[2*(C-4)],l=o.pointInfo[2*(C-4)+1],u=o.pointInfo[(2*(C-4)+2)%8],c=o.pointInfo[(2*(C-4)+3)%8]));I(this).mousemove(function(n){var f=(n||window.event).offsetX,p=(n||window.event).offsetY;I(i.mouseX).html(f),I(i.mouseY).html(p);for(var e=0;e<m.length;e++)if(e<4&&1==m[e])I(this).css("cursor","move"),t.clearRect(0,0,R.width(),R.height()),o.pointInfo[2*e]=f,o.pointInfo[2*e+1]=p,T(),E(),g=!!X(),O();else if(4==e&&1==m[4]){I(this).css("cursor","move"),t.clearRect(0,0,R.width(),R.height());var a=o.pointInfo[0],r=o.pointInfo[1],s=o.pointInfo[2],d=o.pointInfo[3],h=v[0],l=-1,u=p-v[0]*f,c=v[1],P=-1,w=o.pointInfo[3]-v[1]*o.pointInfo[2],y=v[3],C=-1,b=o.pointInfo[1]-v[3]*o.pointInfo[0];0==v[0]?("Infinity"==v[1]?(o.pointInfo[2]=o.pointInfo[2],o.pointInfo[3]=p):(o.pointInfo[2]=(p-o.pointInfo[3])/v[1]+o.pointInfo[2],o.pointInfo[3]=p),"Infinity"==v[3]?(o.pointInfo[0]=o.pointInfo[0],o.pointInfo[1]=p):(o.pointInfo[0]=(p-o.pointInfo[1])/v[3]+o.pointInfo[0],o.pointInfo[1]=p)):"Infinity"==v[0]?(0==v[1]?(o.pointInfo[2]=f,o.pointInfo[3]=o.pointInfo[3]):(o.pointInfo[3]=v[1]*(f-o.pointInfo[2])+o.pointInfo[3],o.pointInfo[2]=f),0==v[3]?(o.pointInfo[0]=f,o.pointInfo[1]=o.pointInfo[1]):(o.pointInfo[1]=v[3]*(f-o.pointInfo[0])+o.pointInfo[1],o.pointInfo[0]=f)):(0==v[1]?(o.pointInfo[2]=o.pointInfo[2]+(f-o.midPointInfo[0]),o.pointInfo[3]=o.pointInfo[3]):"Infinity"==v[1]?(o.pointInfo[2]=o.pointInfo[2],o.pointInfo[3]=o.pointInfo[3]+(p-o.midPointInfo[1])):(o.pointInfo[2]=(P*u-l*w)/(c*l-h*P),o.pointInfo[3]=(h*w-c*u)/(c*l-h*P)),0==v[3]?(o.pointInfo[0]=o.pointInfo[0]+(f-o.midPointInfo[0]),o.pointInfo[1]=o.pointInfo[1]):"Infinity"==v[3]?(o.pointInfo[0]=o.pointInfo[0],o.pointInfo[1]=o.pointInfo[1]+(p-o.midPointInfo[1])):(o.pointInfo[0]=(C*u-l*b)/(y*l-h*C),o.pointInfo[1]=(h*b-y*u)/(y*l-h*C))),E(),X()?(g=!0,o.pointInfo[0]=a,o.pointInfo[1]=r,o.pointInfo[2]=s,o.pointInfo[3]=d):g=!1,O()}else if(5==e&&1==m[5]){I(this).css("cursor","move"),t.clearRect(0,0,R.width(),R.height());a=o.pointInfo[2],r=o.pointInfo[3],s=o.pointInfo[4],d=o.pointInfo[5],h=v[1],l=-1,u=p-v[1]*f,c=v[0],P=-1,w=o.pointInfo[3]-v[0]*o.pointInfo[2],y=v[2],C=-1,b=o.pointInfo[5]-v[2]*o.pointInfo[4];0==v[1]?("Infinity"==v[2]?(o.pointInfo[4]=o.pointInfo[4],o.pointInfo[5]=p):(o.pointInfo[4]=(p-o.pointInfo[5])/v[2]+o.pointInfo[4],o.pointInfo[5]=p),"Infinity"==v[0]?(o.pointInfo[2]=o.pointInfo[2],o.pointInfo[3]=p):(o.pointInfo[2]=(p-o.pointInfo[3])/v[0]+o.pointInfo[2],o.pointInfo[3]=p)):"Infinity"==v[1]?(0==v[2]?(o.pointInfo[4]=f,o.pointInfo[5]=o.pointInfo[5]):(o.pointInfo[5]=v[2]*(f-o.pointInfo[4])+o.pointInfo[5],o.pointInfo[4]=f),0==v[0]?(o.pointInfo[2]=f,o.pointInfo[3]=o.pointInfo[3]):(o.pointInfo[3]=v[0]*(f-o.pointInfo[2])+o.pointInfo[3],o.pointInfo[2]=f)):(0==v[2]?(o.pointInfo[4]=o.pointInfo[4]+(f-o.midPointInfo[2]),o.pointInfo[5]=o.pointInfo[5]):"Infinity"==v[2]?(o.pointInfo[4]=o.pointInfo[4],o.pointInfo[5]=o.pointInfo[5]+(p-o.midPointInfo[3])):(o.pointInfo[4]=(C*u-l*b)/(y*l-h*C),o.pointInfo[5]=(h*b-y*u)/(y*l-h*C)),0==v[0]?(o.pointInfo[2]=o.pointInfo[2]+(f-o.midPointInfo[2]),o.pointInfo[3]=o.pointInfo[3]):"Infinity"==v[0]?(o.pointInfo[2]=o.pointInfo[2],o.pointInfo[3]=o.pointInfo[3]+(p-o.midPointInfo[3])):(o.pointInfo[2]=(P*u-l*w)/(c*l-h*P),o.pointInfo[3]=(h*w-c*u)/(c*l-h*P))),E(),X()?(g=!0,o.pointInfo[2]=a,o.pointInfo[3]=r,o.pointInfo[4]=s,o.pointInfo[5]=d):g=!1,O()}else if(6==e&&1==m[6]){I(this).css("cursor","move"),t.clearRect(0,0,R.width(),R.height());a=o.pointInfo[4],r=o.pointInfo[5],s=o.pointInfo[6],d=o.pointInfo[7],h=v[2],l=-1,u=p-v[2]*f,c=v[1],P=-1,w=o.pointInfo[5]-v[1]*o.pointInfo[4],y=v[3],C=-1,b=o.pointInfo[7]-v[3]*o.pointInfo[6];0==v[2]?("Infinity"==v[3]?(o.pointInfo[6]=o.pointInfo[6],o.pointInfo[7]=p):(o.pointInfo[6]=(p-o.pointInfo[7])/v[3]+o.pointInfo[6],o.pointInfo[7]=p),"Infinity"==v[1]?(o.pointInfo[4]=o.pointInfo[4],o.pointInfo[5]=p):(o.pointInfo[4]=(p-o.pointInfo[5])/v[1]+o.pointInfo[4],o.pointInfo[5]=p)):"Infinity"==v[2]?(0==v[3]?(o.pointInfo[6]=f,o.pointInfo[7]=o.pointInfo[7]):(o.pointInfo[7]=v[3]*(f-o.pointInfo[6])+o.pointInfo[7],o.pointInfo[6]=f),0==v[1]?(o.pointInfo[4]=f,o.pointInfo[5]=o.pointInfo[5]):(o.pointInfo[5]=v[1]*(f-o.pointInfo[4])+o.pointInfo[5],o.pointInfo[4]=f)):(0==v[3]?(o.pointInfo[6]=o.pointInfo[6]+(f-o.midPointInfo[4]),o.pointInfo[7]=o.pointInfo[7]):"Infinity"==v[3]?(o.pointInfo[6]=o.pointInfo[6],o.pointInfo[7]=o.pointInfo[7]+(p-o.midPointInfo[5])):(o.pointInfo[6]=(C*u-l*b)/(y*l-h*C),o.pointInfo[7]=(h*b-y*u)/(y*l-h*C)),0==v[1]?(o.pointInfo[4]=o.pointInfo[4]+(f-o.midPointInfo[4]),o.pointInfo[5]=o.pointInfo[5]):"Infinity"==v[1]?(o.pointInfo[4]=o.pointInfo[4],o.pointInfo[5]=o.pointInfo[5]+(p-o.midPointInfo[5])):(o.pointInfo[4]=(P*u-l*w)/(c*l-h*P),o.pointInfo[5]=(h*w-c*u)/(c*l-h*P))),E(),X()?(g=!0,o.pointInfo[4]=a,o.pointInfo[5]=r,o.pointInfo[6]=s,o.pointInfo[7]=d):g=!1,O()}else if(7==e&&1==m[7]){I(this).css("cursor","move"),t.clearRect(0,0,R.width(),R.height());a=o.pointInfo[6],r=o.pointInfo[7],s=o.pointInfo[0],d=o.pointInfo[1],h=v[3],l=-1,u=p-v[3]*f,c=v[2],P=-1,w=o.pointInfo[7]-v[2]*o.pointInfo[6],y=v[0],C=-1,b=o.pointInfo[1]-v[0]*o.pointInfo[0];0==v[3]?("Infinity"==v[0]?(o.pointInfo[0]=o.pointInfo[0],o.pointInfo[1]=p):(o.pointInfo[0]=(p-o.pointInfo[1])/v[0]+o.pointInfo[0],o.pointInfo[1]=p),"Infinity"==v[2]?(o.pointInfo[6]=o.pointInfo[6],o.pointInfo[7]=p):(o.pointInfo[6]=(p-o.pointInfo[7])/v[2]+o.pointInfo[6],o.pointInfo[7]=p)):"Infinity"==v[3]?(0==v[0]?(o.pointInfo[0]=f,o.pointInfo[1]=o.pointInfo[1]):(o.pointInfo[1]=v[0]*(f-o.pointInfo[0])+o.pointInfo[1],o.pointInfo[0]=f),0==v[2]?(o.pointInfo[6]=f,o.pointInfo[7]=o.pointInfo[7]):(o.pointInfo[7]=v[2]*(f-o.pointInfo[6])+o.pointInfo[7],o.pointInfo[6]=f)):(0==v[0]?(o.pointInfo[0]=o.pointInfo[0]+(f-o.midPointInfo[6]),o.pointInfo[1]=o.pointInfo[1]):"Infinity"==v[0]?(o.pointInfo[0]=o.pointInfo[0],o.pointInfo[1]=o.pointInfo[1]+(p-o.midPointInfo[7])):(o.pointInfo[0]=(C*u-l*b)/(y*l-h*C),o.pointInfo[1]=(h*b-y*u)/(y*l-h*C)),0==v[2]?(o.pointInfo[6]=o.pointInfo[6]+(f-o.midPointInfo[6]),o.pointInfo[7]=o.pointInfo[7]):"Infinity"==v[2]?(o.pointInfo[6]=o.pointInfo[6],o.pointInfo[7]=o.pointInfo[7]+(p-o.midPointInfo[7])):(o.pointInfo[6]=(P*u-l*w)/(c*l-h*P),o.pointInfo[7]=(h*w-c*u)/(c*l-h*P))),E(),X()?(g=!0,o.pointInfo[6]=a,o.pointInfo[7]=r,o.pointInfo[0]=s,o.pointInfo[1]=d):g=!1,O()}})}),R.on("mouseup",function(n){if(I(this).css("cursor","default"),I(this).off("mousemove"),w<4)P&&(o.pointInfo[2*w]=s,o.pointInfo[2*w+1]=d,T(),g=!1,O(),P=!1);else if(w>=4&&P){var t=w;o.pointInfo[2*(t-4)]=h,o.pointInfo[2*(t-4)+1]=l,o.pointInfo[(2*(t-4)+2)%8]=u,o.pointInfo[(2*(t-4)+3)%8]=c,T(),g=!1,O(),P=!1}var i=o.pointInfo,f=i[0],p=i[1],e=i[2],a=i[3],r=i[4],m=i[5],v=i[6],y=i[7];while(f>=e||a>=m||r<=v||y<=p||Math.abs((a+m-p-y)/(e+r-v-f))>Math.abs((m+y-p-a)/(r+v-f-e))){var C=f;f=e,e=r,r=v,v=C;var R=p;p=a,a=m,m=y,y=R}i[0]=f,i[1]=p,i[2]=e,i[3]=a,i[4]=r,i[5]=m,i[6]=v,i[7]=y}),R.on("mouseout",function(n){I(this).css("cursor","default"),I(this).off("mousemove")}),R.on("mouseover",function(n){I(this).css("cursor","default"),I(this).off("mousemove")})}function e(n){var o=new p(n);return o}p.prototype.getPointInfo=function(){return console.log(this.pointInfo,"this.pointInfo"),console.log(this.midPointInfo,"this.midPointInfo"),this.pointInfo};var a=e,r={name:"CanvasDrag",data:function(){return{canvasdrag:""}},mounted:function(){var n={operationPanel:"#canvasdrag",defaultPointInfo:[58,189,440,87,475,211,92,314]};this.canvasdrag=a(n)},methods:{fuc_getPointInfo:function(){if(!this.canvasdrag)return!1;this.canvasdrag.getPointInfo()}}},s=r,d=(t("7fc5"),t("2877")),h=Object(d["a"])(s,i,f,!1,null,"3fd8dbd2",null);o["default"]=h.exports}}]);
//# sourceMappingURL=chunk-ae49529c.afa384cc.js.map