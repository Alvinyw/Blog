(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21e919"],{d5b4:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"main"}},[n("div",{attrs:{id:"canvasTurntable"}})])}],o=n("1157"),i=n("1157");function s(t){return o("#"+t.targetNodeId).AddCanvasTurntable(t)}(function(t){t.fn.AddCanvasTurntable=function(e){var n,r={sectorText:"",colors:"",rotateTime:"",alertText:"",resultTitle:""},a=t.extend(r,e),o=this,i=0,s=0,l=null,d=a.rotateTime?a.rotateTime:6,c=a.resultTitle?a.resultTitle:"当前已选中的结果如下：",f=a.alertText?a.alertText:"转盘里的内容已全部被选中！",h=a.colors?a.colors:["#e9536a","#fbd7a1","#df6679","#000","#fff","#666"],u=a.sectorText?a.sectorText:["扇形一","扇形二","扇形三","扇形四","扇形五","扇形六","扇形七","扇形八","扇形九","扇形十","扇形十一","扇形十二","扇形十三","扇形十四"],m=u.length,p=new Array,v=o.width(),g=Date.parse(new Date)/1e3,b="canvasWrapper-"+g,T="canvas1-"+g,x="canvas2-"+g,P="clickBtn-"+g,w="result-"+g;function k(){var e=t("<div id='"+b+"'>");e.css({height:o.width(),width:o.width(),position:"relative"});var n=t("<canvas id='"+T+"' width='"+v+"' height='"+v+"'>");n.css({"border-radius":"100%",transition:"transform "+d+"s","-o-transition":"transform "+d+"s","-ms-transition":"transform "+d+"s","-moz-transition":"transform "+d+"s","-webkit-transition":"transform "+d+"s","transform-origin":"50% 50%","-o-transform-origin":"50% 50%","-ms-transform-origin":"50% 50%","-moz-transform-origin":"50% 50%","-webkit-transform-origin":"50% 50%"}),e.append(n);var r=t("<canvas id='"+x+"' width='"+v+"' height='"+v+"'>");r.css({position:"absolute",top:"0",left:"0","z-index":"30"}),e.append(r);var a=t("<button id='"+P+"'>");a.css({position:"absolute",top:"50%",left:"50%",width:v/5,height:v/5,"margin-top":-v/10,"margin-left":-v/10,"border-radius":"100%",cursor:"pointer",border:"none",background:"transparent",outline:"none","z-index":"40"}),e.append(a);var i=t("<div id='"+w+"' class='result' width='"+v+"'>");i.css({padding:"10px",border:"2px solid #aaa","margin-top":"20px","border-radius":"4px"});var s=t("<h3>"+c+"</h3>");i.append(s),o.append(e),o.append(i)}function y(){var t=document.getElementById(T),e=document.getElementById(x),n=t.getContext("2d"),r=e.getContext("2d");function a(){for(var t=0,e=0,r=0;r<m;r++)t=r*Math.PI*2/m-Math.PI/2+2*Math.PI/m/2,e=t+2*Math.PI*(1/m),n.save(),n.beginPath(),n.arc(v/2,v/2,v/2,t,e,!1),n.lineWidth=v,n.strokeStyle=r%2==0?h[0]:h[1],r==m-1&&m%2!=0&&(n.strokeStyle=h[2]),n.stroke(),n.restore();n.beginPath(),n.arc(v/2,v/2,v/10,0,2*Math.PI,!1),n.fillStyle=h[4],n.fill(),n.closePath()}function o(){n.textAlign="start",n.textBaseline="middle",n.fillStyle=h[3];for(var t=2*Math.PI/m,e=0;e<m;e++){n.save(),n.beginPath(),n.translate(v/2,v/2),n.rotate(e*t),n.font="Bold 16px Microsoft YaHei",n.fillStyle=h[3];for(var r=u[e].split(""),a=0;a<r.length;a++)n.fillText(r[a],-8,20*a-(v/2-35),20);n.closePath(),n.restore()}}function i(){r.beginPath(),r.strokeStyle=h[5],r.arc(v/2,v/2,v/2-2,0,2*Math.PI,!1),r.lineWidth=3,r.stroke(),r.closePath(),r.beginPath(),r.moveTo(v/2,.3*v),r.lineTo(v/2-9,v/2),r.lineTo(v/2+9,v/2),r.lineTo(v/2,.3*v),r.fillStyle=h[5],r.fill(),r.closePath(),r.beginPath(),r.arc(v/2,v/2,v/10-3,0,2*Math.PI,!1),r.fillStyle=h[5],r.fill(),r.closePath(),r.font="Bold 16px Microsoft YaHei",r.textAlign="start",r.textBaseline="middle",r.fillStyle=h[4],r.beginPath(),r.fillText("开始",v/2-16,v/2-1,40),r.fill(),r.closePath()}a(),o(),i()}function I(){var e="rotate("+n+"deg)",r=t("#"+T);r.css("-o-transform",e),r.css("-ms-transform",e),r.css("-moz-transform",e),r.css("-webkit-transform",e),r.css("transform",e)}function M(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function S(t,e){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}k(),y(),t("body").on("click","#"+P,function(){if(p.length<u.length){for(var e=0;e>-1;e++)if(s=M(0,u.length-1),!S(p,u[s])){n=2160*(i+1)-s*(360/m),l=u[s];break}I(),t("#"+P).attr("disabled",!0),i+=1,setTimeout(function(){console.log(l);var e=t("<span>");e.html(u[s]),p.length,p.push(u[s]),t("#"+w).append(e),t("#"+P).removeAttr("disabled",!0)},1e3*d)}else alert(f)})}})(i);var l=s,d={name:"CanvasTurntable",data:function(){return{tooltip:""}},mounted:function(){var t={targetNodeId:"canvasTurntable",sectorText:["张某某","李某某","王某某","韩某某","廖某某","赵某某"],rotateTime:3};this.tooltip=l(t)}},c=d,f=n("2877"),h=Object(f["a"])(c,r,a,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d21e919.ed59e4bb.js.map