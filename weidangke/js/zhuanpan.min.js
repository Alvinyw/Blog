function rnd(e,a){return Math.floor(Math.random()*(a-e+1)+e)}$(function(){for(var t=new Array(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31),s=new Array,e=0;e<t.length;e++)$("#selectedName").append("<li data-num='"+t[e]+"'>"+c(t[e])+"</li>");function a(){var e=document.body.clientHeight-$("h1").outerHeight(),a=935<.8*e?935:.8*e,c=770<.65*e?770:.65*e,t=$("#chooseSelected").outerWidth(),s=$("#chooseSelected").outerHeight();$("#content").css("max-width",a),$("#result").css("max-width",c),$("#chooseSelected").css({"margin-top":-s/2,"margin-left":-t/2})}$("#mask").show(),$("#chooseSelected").fadeIn(),a(),$(window).resize(function(){a()}),$("#mask").click(function(){$("#mask").fadeOut(),$("#chooseSelected").fadeOut()}),$("#selectedName").on("click","li",function(){$(this).toggleClass("on")}),$("#btnConfirmSelected").click(function(){$("#selectedName li").each(function(e,a){var c=parseInt($(this).attr("data-num"));$(this).hasClass("on")&&n(s,c)&&s.push(c)}),$("#mask").fadeOut(),$("#chooseSelected").fadeOut()}),$("#checkSelected").click(function(){$("#selectedName li").removeClass("on");for(var e=0;e<s.length;e++)$("#selectedName li[data-num='"+s[e]+"'").addClass("on");$("#mask").show(),$("#chooseSelected").fadeIn()});var r=!1;function c(e){var a;switch(parseInt(e)){case 0:a="潘毅彬";break;case 1:a="金  浩";break;case 2:a="刘剑辉";break;case 3:a="陈  鹄";break;case 4:a="龚小兵";break;case 5:a="陈德明";break;case 6:a="季国强";break;case 7:a="金康康";break;case 8:a="方寒英";break;case 9:a="许  坚";break;case 10:a="高溶蔚";break;case 11:a="陶莉莉";break;case 12:a="陈  俊";break;case 13:a="楼静敏";break;case 14:a="楼玮玮";break;case 15:a="金昭非";break;case 16:a="黄林滨";break;case 17:a="王  亮";break;case 18:a="毛宏吹";break;case 19:a="朱庆军";break;case 20:a="俞  凯";break;case 21:a="朱杨威";break;case 22:a="楼勇军";break;case 23:a="杨  英";break;case 24:a="陈玉生";break;case 25:a="邵显明";break;case 26:a="施廖英";break;case 27:a="毛慧玲";break;case 28:a="郭侃玲";break;case 29:a="王义雪";break;case 30:a="金  灿";break;case 31:a="胡一江"}return a}function n(e,a){for(var c=0;c<e.length;c++)if(e[c]==a)return!1;return!(e.length<21&&2==a)}var o=function(a,e){r=!r,$("#zhuanpan").stopRotate(),$("#zhuanpan").rotate({angle:0,animateTo:e+1800,duration:2500,callback:function(){var e;r=!r,e=$('<span class="ry">'+c(a)+"</span>"),$("#result .content").append(e)}})};$(".pointer").click(function(){var e;if(!r)if(s.length<t.length){for(var a=0;-1<a;a++){var c=rnd(0,31);if(n(s,t[c])){e=c,s.push(e);break}}o(e,360-11.25*e-7.5)}else alert("该轮抽选中所有的人员都已被选中过。")})});