(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-product"],{"0785":function(t,e,a){},"0e55":function(t,e,a){"use strict";var o=a("49a4"),r=a.n(o);r.a},"11aa":function(t,e,a){},1384:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"productReporter_queryCondition"}},[o("div",{staticClass:"section"},[o("p",{staticClass:"title"},[t._v("查询条件")]),t._v(" "),o("div",{staticClass:"info"},[o("el-button",{staticClass:"addBtn",attrs:{type:"primary",plain:"",size:"small"},on:{click:function(e){t.ifShowDialog=!0}}},[t._v("添 加")]),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingConditionData,expression:"loadingConditionData"}],staticStyle:{width:"100%"},attrs:{data:t.queryConditionInfo,"header-cell-style":{background:"#f5f5f5",color:"#333"},"cell-style":{padding:"10px 0"}}},[o("el-table-column",{attrs:{prop:"name",label:"查询条件名称","min-width":"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",{attrs:{id:"queryName"+e.$index},on:{dblclick:function(a){return t.doubleClick(e.row.name,"queryName"+e.$index)}}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"field",label:"字段名","min-width":"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",{attrs:{id:"field"+e.$index},on:{dblclick:function(a){return t.doubleClick(e.row.field,"field"+e.$index)}}},[t._v(t._s(e.row.field))])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"fieldType",label:"字段类型","min-width":"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",{attrs:{id:"fieldType"+e.$index},on:{dblclick:function(a){t.doubleClick(t.$product.getProductReporterFileType(e.row.fieldType),"fieldType"+e.$index)}}},[t._v(t._s(t._f("filterProductReporterFileType")(e.row.fieldType)))])]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"枚举值","min-width":"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",{attrs:{id:"enumValue"+e.$index,title:e.row.enumValue},on:{dblclick:function(a){t.doubleClick(e.row.enumValue?t.$lib.jsonFormat(e.row.enumValue):"","enumValue"+e.$index)}}},[t._v(t._s(e.row.enumValue?t.$lib.jsonFormat(e.row.enumValue):""))])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"fieldRequired",label:"是否必填","min-width":"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",{attrs:{id:"fieldRequired"+e.$index},on:{dblclick:function(a){return t.doubleClick(e.row.fieldRequired?"是":"否","fieldRequired"+e.$index)}}},[t._v(t._s(e.row.fieldRequired?"是":"否"))])]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("i",{staticClass:"el-icon-rank",attrs:{title:"上下拖拽进行排序"}}),t._v(" "),o("el-button",{attrs:{type:"text"},on:{click:function(a){return t.removeCondition(e.row.id)}}},[t._v("移除")])]}}])})],1)],1)]),t._v(" "),o("el-dialog",{attrs:{title:"添加查询条件",visible:t.ifShowDialog,width:"40%","custom-class":"dialogWrapper"},on:{"update:visible":function(e){t.ifShowDialog=e}}},[o("el-form",{ref:"reporterCondition",attrs:{model:t.reporterCondition,rules:t.reporterConditionRules}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"name",label:"查询条件名称"}},[o("el-input",{attrs:{maxlength:"20","show-word-limit":"",placeholder:"请输入"},model:{value:t.reporterCondition.name,callback:function(e){t.$set(t.reporterCondition,"name",e)},expression:"reporterCondition.name"}})],1)],1),t._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"field",label:"字段名"}},[o("el-input",{attrs:{maxlength:"20","show-word-limit":"",placeholder:"请输入"},model:{value:t.reporterCondition.field,callback:function(e){t.$set(t.reporterCondition,"field",e)},expression:"reporterCondition.field"}})],1)],1),t._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"fieldType",label:"字段类型"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.reporterCondition.fieldType,callback:function(e){t.$set(t.reporterCondition,"fieldType",e)},expression:"reporterCondition.fieldType"}},t._l(t.$settings.product.fieldTypes,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"fieldRequired",label:"是否必填"}},[o("el-radio-group",{model:{value:t.reporterCondition.fieldRequired,callback:function(e){t.$set(t.reporterCondition,"fieldRequired",e)},expression:"reporterCondition.fieldRequired"}},[o("el-radio",{attrs:{label:!0}},[t._v("是")]),t._v(" "),o("el-radio",{attrs:{label:!1}},[t._v("否")])],1)],1)],1),t._v(" "),5===t.reporterCondition.fieldType?o("el-col",{attrs:{span:12}},[o("el-form-item",{staticClass:"enumValue_item",attrs:{prop:"enumValue",rules:[{required:!0,message:"请输入枚举值"}]}},[o("span",{attrs:{slot:"label"},slot:"label"},[t._v("\n                枚举值\n                "),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[o("div",{attrs:{slot:"content"},slot:"content"},[o("pre",[t._v('[\n  {\n    value: 1,\n    label: "枚举一"\n  },\n  {\n    value: 2,\n    label: "枚举三"\n  },\n  {\n    value: 3,\n    label: "枚举三"\n  }\n]')])]),t._v(" "),o("img",{staticClass:"icon_toolTip",attrs:{src:a("4161"),width:"16px",alt:"tip"}})])],1),t._v(" "),o("el-input",{attrs:{type:"textarea",placeholder:"请输入",maxlength:"2000",rows:"3","show-word-limit":""},model:{value:t.reporterCondition.enumValue,callback:function(e){t.$set(t.reporterCondition,"enumValue",e)},expression:"reporterCondition.enumValue"}})],1)],1):t._e()],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.ifShowDialog=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{loading:t.isSubmitting,type:"primary"},on:{click:t.addCondition}},[t._v("添 加")])],1)],1)],1)},r=[],i=a("4360"),n=a("aa47"),s={name:"QueryCondition",props:{reporterConditionInfo:{type:Array,default:function(){return[]}}},data:function(){return{ifShowDialog:!1,loadingConditionData:!1,reporterId:this.$route.query.id,isSubmitting:!1,queryConditionInfo:[],reporterCondition:{name:"",field:"",fieldType:"",fieldRequired:null,createById:i["a"].getters.userId,enumValue:"",productReporterId:this.$route.query.id},reporterConditionRules:{name:[{required:!0,message:"请输入查询条件名称"}],field:[{required:!0,message:"请输入字段名"}],fieldType:[{required:!0,message:"请选择字段类型"}],fieldRequired:[{required:!0,message:"请选择是否必填"}]},updateSequenceParam:{productReporterId:this.$route.query.id,srcId:0,srcSequence:0,destSequence:0,updateById:i["a"].getters.userId}}},watch:{reporterConditionInfo:function(t){this.queryConditionInfo=JSON.parse(JSON.stringify(t))},ifShowDialog:function(t){t||this.$refs["reporterCondition"].resetFields()}},mounted:function(){this.rowDrop()},methods:{doubleClick:function(t,e){var a=document.createElement("input");a.value=t,document.body.appendChild(a),a.select(),document.execCommand("Copy"),a.className="oInput",a.style.display="none";var o=document.getElementById(e);o.style.backgroundColor="#3390ff",o.style.color="#fff",setTimeout(function(){o.style.backgroundColor="",o.style.color=""},3e3)},refreshData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(this.queryConditionInfo=[]),this.$api.product.getProductSearchConditionList(this.reporterId).then(function(e){t.queryConditionInfo=e.data,t.loadingConditionData=!1}).catch(function(e){t.$message.error(e.message)})},resetUpdateSequenceParam:function(t,e){var a=JSON.parse(JSON.stringify(this.queryConditionInfo)),o=this.updateSequenceParam;o.srcId=a[t].id,o.srcSequence=a[t].sequence,o.destSequence=a[e].sequence},rowDrop:function(){var t=document.querySelector(".el-table__body-wrapper tbody"),e=this;n["a"].create(t,{onEnd:function(t){var a=t.newIndex,o=t.oldIndex;a!==o&&(e.resetUpdateSequenceParam(o,a),e.loadingConditionData=!0,e.$api.product.searchConditionSort(e.updateSequenceParam).then(function(){e.refreshData(!0)}).catch(function(t){e.$message.error(t.message)}))}})},addCondition:function(){var t=this;this.$refs["reporterCondition"].validate(function(e){if(!e)return!1;t.isSubmitting=!0,t.loadingConditionData=!0,t.$api.product.addProductSearchCondition(t.formateReporterCondition(t.reporterCondition)).then(function(){t.refreshData(),t.isSubmitting=!1,t.ifShowDialog=!1}).catch(function(e){t.isSubmitting=!1,t.ifShowDialog=!1,t.$message.error(e.message)})})},removeCondition:function(t){var e=this;this.loadingConditionData=!0,this.$api.product.deleteProductSearchCondition(t,i["a"].getters.userId).then(function(){e.refreshData()}).catch(function(t){e.$message.error(t.message)})},formateReporterCondition:function(t){var e=JSON.parse(JSON.stringify(t));return e.enumValue=JSON.stringify(e.enumValue),e}}},l=s,c=(a("cd21"),a("2877")),d=Object(c["a"])(l,o,r,!1,null,null,null);e["default"]=d.exports},1725:function(t,e,a){"use strict";var o=a("d755"),r=a.n(o);r.a},"1bfe":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m"},[a("el-form",{ref:"queryCondition",staticClass:"queryCondition section",attrs:{model:t.queryCondition,rules:t.queryRules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"产品编码",prop:"code","label-width":"70px"}},[a("el-input",{attrs:{maxlength:"19","show-word-limit":"",clearable:"",placeholder:"请输入"},model:{value:t.queryCondition.code,callback:function(e){t.$set(t.queryCondition,"code",e)},expression:"queryCondition.code"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"产品类型",prop:"type"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.queryCondition.type,callback:function(e){t.$set(t.queryCondition,"type",e)},expression:"queryCondition.type"}},t._l(t.$settings.product.types,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"产品名称",prop:"name"}},[a("el-input",{attrs:{maxlength:"20","show-word-limit":"",clearable:"",placeholder:"请输入"},model:{value:t.queryCondition.name,callback:function(e){t.$set(t.queryCondition,"name",e)},expression:"queryCondition.name"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"服务商",prop:"facilitatorId","label-width":"70px"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.queryCondition.facilitatorId,callback:function(e){t.$set(t.queryCondition,"facilitatorId",e)},expression:"queryCondition.facilitatorId"}},t._l(t.aryFacilitatorId,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"产品状态",prop:"enabled"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.queryCondition.enabled,callback:function(e){t.$set(t.queryCondition,"enabled",e)},expression:"queryCondition.enabled"}},[a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"停用",value:"0"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"创建时间",prop:"beginTime"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"~","value-format":"yyyy-MM-dd","start-placeholder":"开始时间","end-placeholder":"结束时间"},model:{value:t.productCreatedTime,callback:function(e){t.productCreatedTime=e},expression:"productCreatedTime"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{staticClass:"queryBtn",attrs:{size:"large","label-width":"0"}},[t.$api.buttonAuth("product/development/add")?a("el-button",{attrs:{type:"primary"},on:{click:t.handleAddProduct}},[t._v("新增")]):t._e()],1)],1),t._v(" "),a("el-col",{attrs:{span:20}},[a("el-form-item",{staticClass:"queryBtn",staticStyle:{"text-align":"right"},attrs:{size:"large"}},[a("el-button",{on:{click:function(e){return t.resetForm("queryCondition")}}},[t._v("重置")]),t._v(" "),a("el-button",{attrs:{loading:t.isSearching,type:"primary"},on:{click:function(e){return t.searchProductInfo("queryCondition")}}},[t._v("查询")])],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"productListTable section"},[t.$api.buttonAuth("product/enable")||t.$api.buttonAuth("product/disable")?a("EnableBtnGrp",{attrs:{"show-enable-btn":t.$api.buttonAuth("product/enable"),"show-disable-btn":t.$api.buttonAuth("product/disable"),count:t.multipleSelection.length},on:{onEnable:t.batchEnabled,onDisable:t.batchDisabled}}):t._e(),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingProductList,expression:"loadingProductList"}],staticStyle:{width:"100%"},attrs:{data:t.productList,"header-cell-style":{background:"#f5f5f5",color:"#333"},"cell-style":{padding:"10px 0"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection","class-name":"selectionCol",width:"30"}}),t._v(" "),a("el-table-column",{attrs:{prop:"code",label:"产品编码","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$api.buttonAuth("product/detail")?a("router-link",{attrs:{to:{path:"/manage/detail",query:{code:e.row.code}}}},[t._v(t._s(e.row.code))]):a("span",[t._v(t._s(e.row.code))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"产品名称","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{attrs:{title:e.row.name}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"产品类型","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("filterProductType")(e.row.type)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"facilitatorName",label:"服务商名称","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$api.buttonAuth("facilitator/detail")?a("router-link",{attrs:{to:{path:"/facilitator/detail",query:{facilitatorId:e.row.facilitatorId}}}},[t._v(t._s(e.row.facilitatorName))]):a("span",{attrs:{title:e.row.facilitatorName}},[t._v(t._s(e.row.facilitatorName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"operator",label:"运营负责人","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{attrs:{title:e.row.operator}},[t._v(t._s(e.row.operator))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"enabled",label:"使用状态","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(t.$app.getEnabledState(e.row.enabled))}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createDatetime",label:"创建时间","min-width":"145"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"185"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$api.buttonAuth("product/development/detail")?a("router-link",{attrs:{to:{path:"/manage/development/detail",query:{code:e.row.code}}}},[t._v("技术配置")]):t._e(),t._v(" "),t.$api.buttonAuth("product/operation/detail")?a("router-link",{attrs:{to:{path:"/manage/operation/detail",query:{code:e.row.code}}}},[t._v("业务配置")]):t._e(),t._v(" "),t.$api.buttonAuth("product/operation/dataManage")&&10006===Number(e.row.code)?a("router-link",{attrs:{to:{path:"/manage/operation/dataManage",query:{code:e.row.code,name:e.row.name,type:e.row.type,connectType:e.row.connectType}}}},[t._v("数据管理")]):t._e()]}}])})],1),t._v(" "),a("DataPagination",{attrs:{"pagination-data":t.paginationData},on:{"update:paginationData":function(e){t.paginationData=e},"update:pagination-data":function(e){t.paginationData=e},resetData:t.getProductInfo}})],1)],1)},r=[],i=(a("ac6a"),a("db72")),n=a("2f62"),s={name:"Index",data:function(){return{paginationData:{pageIndex:1,pageSize:10,dataCount:0},loadingProductList:!1,aryFacilitatorId:[],queryCondition:{code:"",type:"",name:"",enabled:"",facilitatorId:"",userId:this.$store.getters.userId,beginTime:"",endTime:""},queryRules:{code:[{validator:this.$validater.strNumber}]},productList:[],isSearching:!1,multipleSelection:[]}},computed:Object(i["a"])({},Object(n["b"])(["userId"]),{productCreatedTime:{get:function(){return[this.queryCondition.beginTime,this.queryCondition.endTime]},set:function(t){this.queryCondition.beginTime=t?t[0]:"",this.queryCondition.endTime=t?t[1]:""}}}),mounted:function(){var t=this,e=this.$session.getQueryConditions();e&&(this.queryCondition=e),this.$api.product.getFacilitatorIds().then(function(e){t.aryFacilitatorId=[],e.data.forEach(function(e){t.aryFacilitatorId.push({value:e.id,label:e.shortName})})})},beforeRouteEnter:function(t,e,a){a(function(t){return t.getProductInfo()})},beforeRouteUpdate:function(t,e,a){this.getProductInfo().then(function(){a()})},methods:{setProductInfo:function(t){this.productList=t.data,this.paginationData.dataCount=t.count,this.loadingProductList=!1},getProductInfo:function(){var t=this;return this.loadingProductList=!0,this.$api.product.getProductPageList(Object(i["a"])({},this.paginationData,{conditions:this.formateConditions(this.queryCondition)})).then(function(e){t.setProductInfo(e)}).catch(function(e){t.$message.error(e.message)})},searchProductInfo:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.isSearching=!0,e.getProductInfo().then(function(t){e.isSearching=!1}).catch(function(){e.loadingProductList=!1,e.isSearching=!1}),e.$session.setQueryConditions(e.queryCondition)})},resetForm:function(t){this.$refs[t].resetFields(),this.$refs[t].clearValidate()},handleAddProduct:function(){this.$router.push({path:"/manage/development/add"})},handleSelectionChange:function(t){var e=[];t.forEach(function(t){e.push(t.code)}),this.multipleSelection=e},batchEnabled:function(){var t=this;this.$api.product.productBatch({updateById:this.userId,codes:this.multipleSelection,enabled:!0}).then(function(e){t.getProductInfo()}).catch(function(e){t.$message.error(e.message)})},batchDisabled:function(){var t=this;this.$api.product.productBatch({updateById:this.userId,codes:this.multipleSelection,enabled:!1}).then(function(e){t.getProductInfo()}).catch(function(e){t.$message.error(e.message)})},formateConditions:function(t){var e=JSON.parse(JSON.stringify(t));return e.enabled="1"===e.enabled||"0"!==e.enabled&&"",e}}},l=s,c=(a("6e23"),a("f204"),a("2877")),d=Object(c["a"])(l,o,r,!1,null,"68e22b24",null);e["default"]=d.exports},"1d55":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"btmFixed",attrs:{id:"productManage_operationForm"}},[a("el-form",{ref:"productInfo",attrs:{"label-position":"top",model:t.productInfo,rules:t.productInfoRules}},[a("div",{staticClass:"section sec1"},[a("p",{staticClass:"title"},[t._v("产品信息")]),t._v(" "),a("div",{staticClass:"info"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("span",{staticClass:"key"},[t._v("产品编码:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productInfo.code))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"key"},[t._v("产品名称:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productInfo.name))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"key"},[t._v("产品类型:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t._f("filterProductType")(t.productInfo.type)))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"key"},[t._v("对接方式:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t._f("filterProductConnectType")(t.productInfo.connectType)))])])],1)],1)]),t._v(" "),a("div",{staticClass:"section"},[a("p",{staticClass:"title"},[t._v("补充信息")]),t._v(" "),a("div",{staticClass:"info"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"产品概述",prop:"remark"}},[a("el-input",{attrs:{maxlength:"400","show-word-limit":"",placeholder:"请输入"},model:{value:t.productInfo.remark,callback:function(e){t.$set(t.productInfo,"remark",e)},expression:"productInfo.remark"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"产品LOGO",prop:"logoImage"}},[a("ImageUploadInput",{attrs:{"image-url":t.productInfo.logoImage,type:["image/png"]},on:{"update:imageUrl":function(e){return t.$set(t.productInfo,"logoImage",e)},"update:image-url":function(e){return t.$set(t.productInfo,"logoImage",e)}}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"colorWrap",attrs:{label:"默认颜色:",prop:"color"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.productInfo.color,callback:function(e){t.$set(t.productInfo,"color",e)},expression:"productInfo.color"}}),t._v(" "),a("el-color-picker",{model:{value:t.productInfo.color,callback:function(e){t.$set(t.productInfo,"color",e)},expression:"productInfo.color"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dataReportsWrapper",attrs:{label:"开放平台商户报表",prop:"dataReports"}},[a("el-select",{attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"","popper-class":"dataReportsPopper",placeholder:"按回车输入下一个"},on:{change:t.handleChangeReporter},model:{value:t.curDataReports,callback:function(e){t.curDataReports=e},expression:"curDataReports"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运营负责人",prop:"operator"}},[a("el-input",{attrs:{maxlength:"50","show-word-limit":"",placeholder:"请输入"},model:{value:t.productInfo.operator,callback:function(e){t.$set(t.productInfo,"operator",e)},expression:"productInfo.operator"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运营负责人邮箱",prop:"operatorEmail"}},[a("el-input",{attrs:{maxlength:"50","show-word-limit":"",placeholder:"请输入"},model:{value:t.productInfo.operatorEmail,callback:function(e){t.$set(t.productInfo,"operatorEmail",e)},expression:"productInfo.operatorEmail"}})],1)],1),t._v(" "),2===t.productInfo.type?a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"产品分类",prop:"category",rules:[{required:!0,message:"请选择产品分类"}]}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.productInfo.category,callback:function(e){t.$set(t.productInfo,"category",e)},expression:"productInfo.category"}},t._l(t.$settings.product.category,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1):t._e(),t._v(" "),a("el-col",{staticClass:"noPadding",attrs:{span:24}},[a("el-form-item",{attrs:{label:"产品介绍",prop:"introduceImage"}},[a("WangEditor",{attrs:{"fu-wen-ben-text":t.productIntroduce,"is-setting-fuwenben":t.isSettingFuwenben},on:{"update:fuWenBenText":function(e){t.productIntroduce=e},"update:fu-wen-ben-text":function(e){t.productIntroduce=e},"update:isSettingFuwenben":function(e){t.isSettingFuwenben=e},"update:is-setting-fuwenben":function(e){t.isSettingFuwenben=e},setFuwenben:t.setFuwenben}})],1)],1)],1)],1)]),t._v(" "),a("div",{staticClass:"section"},[a("p",{staticClass:"title"},[t._v("对账信息")]),t._v(" "),a("div",{staticClass:"info"},[a("el-row",[a("el-col",{staticStyle:{"padding-top":"20px","padding-bottom":"30px"},attrs:{span:24}},[a("span",{staticClass:"key"},[t._v("对接服务商:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.facilitatorName))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"服务商合作模式",prop:"facilitatorCooperationType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.productInfo.facilitatorCooperationType,callback:function(e){t.$set(t.productInfo,"facilitatorCooperationType",e)},expression:"productInfo.facilitatorCooperationType"}},t._l(t.$settings.app.coopertaionTypes,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"服务商结算方式",prop:"facilitatorPaymentType"}},[a("el-select",{attrs:{placeholder:"请先选择服务商合作模式"},model:{value:t.productInfo.facilitatorPaymentType,callback:function(e){t.$set(t.productInfo,"facilitatorPaymentType",e)},expression:"productInfo.facilitatorPaymentType"}},t._l(t.curFacilitatorPaymentTypes,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"服务商结算定价",prop:"facilitatorSettlementPrice"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.productInfo.facilitatorSettlementPrice,callback:function(e){t.$set(t.productInfo,"facilitatorSettlementPrice",e)},expression:"productInfo.facilitatorSettlementPrice"}},[a("template",{slot:"append"},[t._v(t._s(1===t.productInfo.facilitatorCooperationType?"%":"元/次"))])],2)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"商户合作模式",prop:"cooperationType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.productInfo.cooperationType,callback:function(e){t.$set(t.productInfo,"cooperationType",e)},expression:"productInfo.cooperationType"}},t._l(t.$settings.app.coopertaionTypes,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"可提供商户对账方式",prop:"paymentTypes"}},[a("el-select",{attrs:{multiple:"",placeholder:"请先选择商户合作模式"},model:{value:t.productInfo.paymentTypes,callback:function(e){t.$set(t.productInfo,"paymentTypes",e)},expression:"productInfo.paymentTypes"}},t._l(t.curPaymentTypes,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:2===t.productInfo.cooperationType,expression:"productInfo.cooperationType === 2"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"产品定价",prop:"settlementPrice",rules:[{required:2===Number(t.productInfo.cooperationType),message:"请输入产品定价"},{validator:this.$validater.price}]}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.productInfo.settlementPrice,callback:function(e){t.$set(t.productInfo,"settlementPrice",e)},expression:"productInfo.settlementPrice"}},[a("template",{slot:"append"},[t._v("元/次")])],2)],1)],1)],1)],1)])]),t._v(" "),a("div",{staticClass:"section btmSec"},[a("el-button",{on:{click:t.handleCancel}},[t._v("取 消")]),t._v(" "),t.ifShowResetBtn?a("el-button",{on:{click:t.resetForm}},[t._v("重 置")]):t._e(),t._v(" "),a("el-button",{attrs:{loading:t.ifSubmitting,type:"primary",disabled:t.isSettingFuwenben||t.isSubmitDisable},on:{click:t.submitForm}},[t._v("提 交")])],1)],1)},r=[],i=(a("7f7f"),a("7514"),a("ac6a"),a("456d"),a("dacb")),n={name:"OperationForm",components:{WangEditor:i["a"]},props:{defaultProductInfo:{type:Object,default:function(){return{}}},ifShowResetBtn:Boolean},data:function(){return{isSubmitDisable:!0,facilitatorName:"",ifSubmitting:!1,isSettingFuwenben:!1,productIntroduce:"",curFacilitatorPaymentTypes:[],curPaymentTypes:[],defaultDataReportsIds:[],defaultDataReportsNames:[],curDataReports:[],toAddedList:[],toDeletedList:[],productInfo:{},productInfoRules:{remark:[{required:!0,message:"请输入产品概述"}],introduceImage:[{required:!0,message:"请输入产品介绍"}],operator:[{required:!0,message:"请输入运营负责人"}],operatorEmail:[{required:!0,message:"请输入运营负责人邮箱"},{validator:this.$validater.email}],facilitatorCooperationType:[{required:!0,message:"请选择服务商合作模式"}],facilitatorPaymentType:[{required:!0,message:"请选择服务商结算方式"}],facilitatorSettlementPrice:[{required:!0,message:"请输入服务商结算定价"},{validator:this.$validater.price}],cooperationType:[{required:!0,message:"请选择商户合作模式"}],paymentTypes:[{required:!0,message:"请选择商户计费方式"}]}}},watch:{defaultProductInfo:function(t){this.initData(t)},productInfo:{handler:function(t,e){Object.keys(t).length>1&&(this.isSubmitDisable=this.$lib.isObjEqual(t,this.defaultProductInfo))},deep:!0},curDataReports:{handler:function(t,e){this.isSubmitDisable=this.$lib.isObjEqual(t,this.defaultDataReportsNames)},deep:!0},"productInfo.facilitatorCooperationType":function(t,e){if(!t)return"";e&&(this.productInfo.facilitatorPaymentType=""),this.productInfo.facilitatorCooperationType&&(this.curFacilitatorPaymentTypes=this.$app.getPaymentTypesByCoopertaionType(this.productInfo.facilitatorCooperationType))},"productInfo.cooperationType":function(t,e){if(!t)return"";e&&(this.productInfo.paymentTypes=[]),1===t&&(this.productInfo.settlementPrice=""),this.productInfo.cooperationType&&(this.curPaymentTypes=this.$app.getPaymentTypesByCoopertaionType(this.productInfo.cooperationType))},"productInfo.facilitatorId":function(t,e){var a=this;if(!t)return"";this.$api.product.getFacilitatorIds().then(function(t){var e=t.data.find(function(t){return t.id===a.productInfo.facilitatorId});a.facilitatorName=e?e.name:""})},"productInfo.introduceImage":function(t,e){try{this.productIntroduce=JSON.parse(t)}catch(a){this.productIntroduce=t}}},updated:function(){this.$refs["productInfo"].clearValidate()},methods:{initData:function(t){var e=this;this.productInfo=this.formateShowInfo(t);var a=this.productInfo.productReporterDTOList?this.productInfo.productReporterDTOList:[];a.forEach(function(t){e.defaultDataReportsIds.push(t.id),e.defaultDataReportsNames.push(t.name)}),this.curDataReports=this.defaultDataReportsNames},submitForm:function(){var t=this;this.$refs["productInfo"].validate(function(e){e&&(t.ifSubmitting=!0,t.$api.product.productOperationInfoEdit(t.formateSubmitInfo(t.productInfo)).then(function(e){t.ifSubmitting=!1,t.$router.go(-1)}).catch(function(e){t.ifSubmitting=!1,t.$message.error(e.message)}))})},handleCancel:function(){this.$router.go(-1)},resetForm:function(){this.initData(this.defaultProductInfo)},formateShowInfo:function(t){var e=JSON.parse(JSON.stringify(t));return e},formateSubmitInfo:function(t){var e=JSON.parse(JSON.stringify(t));return e.toAddedList=this.toAddedList,e.toDeletedList=this.toDeletedList,e},setFuwenben:function(t){this.productInfo.introduceImage=JSON.stringify(t),this.isSettingFuwenben=!1},handleChangeReporter:function(t){var e=this;this.toAddedList=[],this.toDeletedList=[],t.forEach(function(t){-1===e.defaultDataReportsNames.indexOf(t)&&e.toAddedList.push({id:"",name:t})}),this.defaultDataReportsNames.forEach(function(a,o){-1===t.indexOf(a)&&e.toDeletedList.push({id:e.defaultDataReportsIds[o],name:a})})}}},s=n,l=(a("313a"),a("8672"),a("2877")),c=Object(l["a"])(s,o,r,!1,null,"498fc5b5",null);e["default"]=c.exports},"1fa5":function(t,e,a){},2113:function(t,e,a){},"23e0":function(t,e,a){"use strict";var o=a("6d43"),r=a.n(o);r.a},"2e81":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m"},[a("div",{staticClass:"section mb0"},[a("p",{staticClass:"title"},[t._v("政策信息")]),t._v(" "),a("div",{staticClass:"policyList"},[a("div",{staticClass:"opGrp"},[a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:t.handleAdd}},[t._v("增加")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:t.policyList,"header-cell-style":{background:"#f5f5f5",color:"#333"},"cell-style":{padding:"10px 0"}}},[a("el-table-column",{attrs:{label:"信息类型","min-width":"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(1===Number(e.row.type)?"政府政策":2===Number(e.row.type)?"行业政策":""))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"标题","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{attrs:{title:e.row.title}},[t._v(t._s(e.row.title))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"概要","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{attrs:{title:e.row.introduction}},[t._v(t._s(e.row.introduction))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"行业","min-width":"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{attrs:{title:e.row.industry}},[t._v(t._s(e.row.industry))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"区域","min-width":"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{attrs:{title:e.row.province+""+(e.row.city?" - "+e.row.city:"")}},[t._v(t._s(e.row.province)+t._s(e.row.city?" - "+e.row.city:""))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"publishDatetime",label:"发布时间","min-width":"140"}}),t._v(" "),a("el-table-column",{attrs:{label:"来源","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{attrs:{title:e.row.source}},[t._v(t._s(e.row.source))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"跳转链接","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{attrs:{title:e.row.detailUrl}},[t._v(t._s(e.row.detailUrl))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleDisable(e.row)}}},[t._v("移除")])]}}])})],1),t._v(" "),a("DataPagination",{attrs:{"pagination-data":t.paginationData},on:{"update:paginationData":function(e){t.paginationData=e},"update:pagination-data":function(e){t.paginationData=e},resetData:t.getPolicyList}})],1)]),t._v(" "),a("AddOrEdit",{attrs:{"if-show-dialog":t.ifShowDialog,"is-add":t.isAdd,"current-form-data":t.currentData,"product-code":t.$route.query.code},on:{"update:ifShowDialog":function(e){t.ifShowDialog=e},"update:if-show-dialog":function(e){t.ifShowDialog=e},onRefresh:t.getPolicyList}})],1)},r=[],i=a("db72"),n=a("2f62"),s=a("9e70"),l={name:"GovernmentPolicy",components:{AddOrEdit:s["default"]},props:{productCode:{type:String,default:""}},data:function(){return{paginationData:{pageIndex:1,pageSize:10,dataCount:0},currentData:{},isLoading:!1,policyList:[],ifShowDialog:!1,isAdd:""}},computed:Object(i["a"])({},Object(n["b"])(["userId"])),mounted:function(){this.getPolicyList()},methods:{setReporterList:function(t){this.policyList=t.data,this.paginationData.dataCount=t.count},getPolicyList:function(){var t=this;return this.isLoading=!0,this.$api.product.getPolicyInfoPageList(Object(i["a"])({},this.paginationData,{conditions:{productCode:this.productCode}})).then(function(e){t.setReporterList(e),t.isLoading=!1}).catch(function(e){t.isLoading=!1,t.$message.error(e.message)})},handleAdd:function(){this.ifShowDialog=!0,this.isAdd=!0,this.currentData={type:"",title:"",introduction:"",industry:"",province:"",city:"",publishDatetime:"",source:"",detailUrl:"",label:""}},handleEdit:function(t){this.ifShowDialog=!0,this.isAdd=!1,this.currentData=t},handleDisable:function(t){var e=this;return this.isLoading=!0,this.$api.product.disablePolicyInfo({id:t.id,updateById:this.userId}).then(function(t){e.getPolicyList(),e.isLoading=!1}).catch(function(t){e.isLoading=!1,e.$message.error(t.message)})},resetForm:function(t){this.$refs[t].resetFields(),this.$refs[t].clearValidate()}}},c=l,d=(a("562c"),a("c645"),a("2877")),u=Object(d["a"])(c,o,r,!1,null,"73a64c92",null);e["default"]=u.exports},"313a":function(t,e,a){"use strict";var o=a("846c"),r=a.n(o);r.a},"321e":function(t,e,a){},3852:function(t,e,a){"use strict";var o=a("11aa"),r=a.n(o);r.a},"3e10":function(t,e,a){"use strict";var o=a("2113"),r=a.n(o);r.a},4368:function(t,e,a){},"49a4":function(t,e,a){},5006:function(t,e,a){"use strict";var o=a("aa22"),r=a.n(o);r.a},"50d9":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"com_productBasicInfo"}},[a("div",{staticClass:"section"},[a("p",{staticClass:"title"},[t._v("补充信息")]),t._v(" "),a("div",{staticClass:"info"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("产品概述:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productInfo.remark))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("默认颜色:")]),t._v(" "),a("span",{staticClass:"val"},[t._v("\n            "+t._s(t.productInfo.color)+"\n            "),a("el-color-picker",{staticClass:"colorPre",attrs:{disabled:""},model:{value:t.productInfo.color,callback:function(e){t.$set(t.productInfo,"color",e)},expression:"productInfo.color"}})],1)]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("产品LOGO:")]),t._v(" "),a("span",{staticClass:"val"},[a("el-image",{staticStyle:{width:"120px",height:"40px",border:"1px solid #eee","background-color":"#f5f5f5"},attrs:{src:t.productInfo.logoImage,"preview-src-list":t.logoImageList,fit:"scale-down"}},[a("div",{staticClass:"image-slot",staticStyle:{"text-align":"center","font-size":"18px",color:"#999","line-height":"38px"},attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])],1)]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("开放平台商户报表:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productDataReports))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("运营负责人:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productInfo.operator))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("运营负责人邮箱:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productInfo.operatorEmail))])]),t._v(" "),2===t.productInfo.type?a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("产品分类:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t._f("filterProductCategory")(t.productInfo.category)))])]):t._e(),t._v(" "),a("el-col",{staticClass:"productIntroduce",attrs:{span:24}},[a("span",{staticClass:"key"},[t._v("产品介绍:")]),t._v(" "),a("span",{staticClass:"val"},[a("WangEditor",{attrs:{"fu-wen-ben-text":t.productIntroduce,"if-editable":!1},on:{"update:fuWenBenText":function(e){t.productIntroduce=e},"update:fu-wen-ben-text":function(e){t.productIntroduce=e}}})],1)])],1)],1)]),t._v(" "),a("div",{staticClass:"section"},[a("p",{staticClass:"title"},[t._v("对账信息")]),t._v(" "),a("div",{staticClass:"info"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("span",{staticClass:"key"},[t._v("对应服务商:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productInfo.facilitatorName))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("服务商合作模式:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t._f("filterCoopertaionType")(t.productInfo.facilitatorCooperationType)))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("服务商结算方式:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t._f("filterPaymentType")(t.productInfo.facilitatorPaymentType)))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("服务商结算定价:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productInfo.facilitatorSettlementPrice)+" "+t._s(2===t.productInfo.facilitatorCooperationType?"元/次":"%"))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("商户合作模式:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t._f("filterCoopertaionType")(t.productInfo.cooperationType)))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("可提供商户计费方式:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t._f("filterPaymentType")(t.productInfo.paymentTypes)))])]),t._v(" "),2===t.productInfo.cooperationType?a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("产品定价:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productInfo.settlementPrice)+" "+t._s(1===t.productInfo.cooperationType?"%":"元/次"))])]):t._e()],1)],1)])])},r=[],i=(a("7f7f"),a("ac6a"),a("dacb")),n={name:"ProductBasicInfo",components:{WangEditor:i["a"]},props:{productInfo:Object,logoImageList:Array},data:function(){return{productIntroduce:"",productDataReports:""}},watch:{productInfo:function(t){var e=this,a=t.productReporterDTOList?t.productReporterDTOList:[];a.forEach(function(t){""===e.productDataReports?e.productDataReports+=t.name:e.productDataReports+=", "+t.name})},"productInfo.introduceImage":function(t,e){try{this.productIntroduce=t?JSON.parse(t):""}catch(a){this.productIntroduce=t||""}}}},s=n,l=(a("8e61"),a("d7e7"),a("2877")),c=Object(l["a"])(s,o,r,!1,null,"db68c9f6",null);e["default"]=c.exports},"552c":function(t,e,a){},"562c":function(t,e,a){"use strict";var o=a("4368"),r=a.n(o);r.a},"575f":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingProductInfo,expression:"loadingProductInfo"}],staticClass:"btmFixed",attrs:{id:"productManagement_detail"}},[a("div",{staticClass:"section"},[a("p",{staticClass:"title"},[t._v("产品信息")]),t._v(" "),a("div",{staticClass:"info"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("产品编码:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productInfo.code))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("产品名称:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productInfo.name))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("产品类型:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t._f("filterProductType")(t.productInfo.type)))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("对接方式:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t._f("filterProductConnectType")(t.productInfo.connectType)))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("对应服务商:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productInfo.facilitatorName))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("测试环境地址:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productInfo.testEnvironment))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("生产环境地址:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productInfo.productEnvironment))])]),t._v(" "),a("el-col",{staticClass:"noPadding",attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("请求方式:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t._f("filterProductAccessType")(t.productInfo.accessType)))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("请求地址:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productInfo.accessAddress))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("请求参数:")]),t._v(" "),a("span",{staticClass:"val"},[a("json-viewer",{attrs:{value:t.formateJsonData(t.productInfo.requestParam),"expand-depth":5,copyable:""}})],1)]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("响应参数:")]),t._v(" "),a("span",{staticClass:"val"},[a("json-viewer",{attrs:{value:t.formateJsonData(t.productInfo.responseParam),"expand-depth":5,copyable:""}})],1)]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("响应状态码:")]),t._v(" "),a("span",{staticClass:"val"},[a("json-viewer",{attrs:{value:t.formateJsonData(t.productInfo.responseCode),"expand-depth":5,copyable:""}})],1)])],1)],1)]),t._v(" "),a("div",{staticClass:"section apiList"},[a("p",{staticClass:"title"},[t._v("关联产品列表")]),t._v(" "),a("div",{staticClass:"info"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.productInfo.productApiDTOList,"header-cell-style":{background:"#f5f5f5",color:"#333"},"cell-style":{padding:"10px 0"}}},[a("el-table-column",{attrs:{prop:"code",label:"产品编号"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$api.buttonAuth("product/detail")?a("router-link",{attrs:{to:{path:"/product/detail",query:{code:e.row.code}}}},[t._v(t._s(e.row.code))]):a("span",[t._v(t._s(e.row.code))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"产品名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"产品类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("filterProductType")(e.row.type)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"accessType",label:"对接模式","min-width":"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("filterProductConnectType")(e.row.connectType)))]}}])})],1)],1)]),t._v(" "),a("div",{staticClass:"section btmSec"},[t.$api.buttonAuth("product/development/edit")?a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleEditProduct(t.productInfo.code)}}},[t._v("编 辑")]):t._e()],1)])},r=[],i={name:"ProductDetail",data:function(){return{loadingProductInfo:!1,introduceImageList:[],logoImageList:[],productInfo:{}}},watch:{$route:function(t,e){this.getProductInfo(t.query.code)}},beforeRouteEnter:function(t,e,a){a(function(e){return e.getProductInfo(t.query.code)})},beforeRouteUpdate:function(t,e,a){this.getProductInfo(this.$route.query.code).then(function(){a()})},methods:{formateJsonData:function(t){var e="";try{e=t?JSON.parse(t):""}catch(a){e=t?this.$lib.jsonFormat(t):""}return e},setProductInfo:function(t){this.productInfo=t,this.introduceImageList.push(t.introduceImage),this.logoImageList.push(t.logoImage),this.loadingProductInfo=!1},getProductInfo:function(t){var e=this;return this.loadingProductInfo=!0,this.$api.product.getProductByCode(t).then(function(t){e.setProductInfo(t.data[0])})},handleCancel:function(){this.$router.go(-1)},handleEditProduct:function(t){this.$router.push({path:"/manage/development/edit",query:{code:t}})}}},n=i,s=(a("f345"),a("1725"),a("2877")),l=Object(s["a"])(n,o,r,!1,null,"75004c38",null);e["default"]=l.exports},"5c0e":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"btmFixed",attrs:{id:"productManage_developmentForm"}},[o("el-form",{ref:"productInfo",attrs:{"label-position":"top",model:t.productInfo,rules:t.productInfoRules}},[o("div",{staticClass:"section",attrs:{id:"titleNav"}},[o("p",{staticClass:"title"},[t._v("选择产品")]),t._v(" "),o("div",{staticClass:"info"},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"选择产品类型：",prop:"type","label-width":"300px"}},[o("el-radio-group",{on:{change:t.handleProductTypeChange},model:{value:t.productInfo.type,callback:function(e){t.$set(t.productInfo,"type",e)},expression:"productInfo.type"}},t._l(t.$settings.product.types,function(e){return o("el-radio",{key:e.value,attrs:{label:e.value,disabled:!t.isAddProduct,border:""}},[t._v(t._s(e.label))])}),1)],1)],1),t._v(" "),o("el-col",{directives:[{name:"show",rawName:"v-show",value:1===t.productInfo.type,expression:"productInfo.type === 1"}],attrs:{span:12}},[o("el-form-item",{attrs:{label:"选择对接方式：",prop:"connectType",rules:[{required:1===t.productInfo.type,message:"请选择对接方式"}],"label-width":"200px"}},[o("el-checkbox-group",{staticStyle:{display:"inline-block"},attrs:{min:1},on:{change:t.handleConnnectTypeChange},model:{value:t.checkedWay,callback:function(e){t.checkedWay=e},expression:"checkedWay"}},[t._l(t.$settings.product.connectTypes,function(e){return[3!==e.value?o("el-checkbox",{key:e.value,attrs:{label:e.value,border:""}},[t._v(t._s(e.label))]):t._e()]})],2)],1)],1)],1)],1)]),t._v(" "),o("div",{staticClass:"section"},[o("p",{staticClass:"title"},[t._v("产品基本信息")]),t._v(" "),o("div",{staticClass:"basicInfo info"},[o("el-row",[o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"产品编号",prop:"code"}},[o("el-input",{attrs:{maxlength:"5","show-word-limit":"",disabled:t.isEditProduct,placeholder:"请输入"},model:{value:t.productInfo.code,callback:function(e){t.$set(t.productInfo,"code",e)},expression:"productInfo.code"}})],1)],1),t._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"产品名称",prop:"name"}},[o("el-input",{attrs:{maxlength:"50","show-word-limit":"",placeholder:"请输入"},model:{value:t.productInfo.name,callback:function(e){t.$set(t.productInfo,"name",e)},expression:"productInfo.name"}})],1)],1),t._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"对应服务商",prop:"facilitatorId"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.productInfo.facilitatorId,callback:function(e){t.$set(t.productInfo,"facilitatorId",e)},expression:"productInfo.facilitatorId"}},t._l(t.aryFacilitatorId,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"测试环境地址",prop:"testEnvironment"}},[o("el-input",{attrs:{maxlength:"100","show-word-limit":"",placeholder:"请输入"},model:{value:t.productInfo.testEnvironment,callback:function(e){t.$set(t.productInfo,"testEnvironment",e)},expression:"productInfo.testEnvironment"}})],1)],1),t._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"生产环境地址",prop:"productEnvironment"}},[o("el-input",{attrs:{maxlength:"100","show-word-limit":"",placeholder:"请输入"},model:{value:t.productInfo.productEnvironment,callback:function(e){t.$set(t.productInfo,"productEnvironment",e)},expression:"productInfo.productEnvironment"}})],1)],1),t._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"请求方式",prop:"accessType"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.productInfo.accessType,callback:function(e){t.$set(t.productInfo,"accessType",e)},expression:"productInfo.accessType"}},t._l(t.$settings.product.accessTypes,function(t){return o("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})}),1)],1)],1),t._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"请求地址",prop:"accessAddress",rules:[{required:!(1!==t.productInfo.type||!t.checkedWay.find(function(t){return 1===t})),message:"请输入请求地址"}]}},[o("el-input",{attrs:{maxlength:"100","show-word-limit":"",placeholder:"请输入"},model:{value:t.productInfo.accessAddress,callback:function(e){t.$set(t.productInfo,"accessAddress",e)},expression:"productInfo.accessAddress"}})],1)],1)],1),t._v(" "),o("el-row",{directives:[{name:"show",rawName:"v-show",value:2===t.productInfo.type||!t.checkedWay.find(function(t){return 2===t}),expression:"(productInfo.type === 2 || !checkedWay.find(v=>v === 2))"}],staticClass:"col2"},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"requestParam"}},[o("span",{attrs:{slot:"label"},slot:"label"},[t._v("\n                  请求参数\n                  "),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[o("div",{attrs:{slot:"content"},slot:"content"},[o("pre",[t._v('{\n    "请求参数": [\n        {\n            "参数名称": "userId",\n            "中文名称": "用户ID",\n            "参数类型": "String",\n            "参数 长度": "16",\n            "是否 必填": "是"\n        },\n        {\n            "参数名称": "capitalOrgId",\n            "中文名称": "签约机构编码",\n            "参数类型": "String",\n            "参数 长度": "20",\n            "是否 必填": "是"\n        }\n    ]\n}')])]),t._v(" "),o("img",{staticClass:"icon_toolTip",attrs:{src:a("4161"),width:"16px",alt:"tip"}})])],1),t._v(" "),o("el-input",{attrs:{type:"textarea",placeholder:"请输入",maxlength:"5000",rows:"6","show-word-limit":""},model:{value:t.productInfo.requestParam,callback:function(e){t.$set(t.productInfo,"requestParam",e)},expression:"productInfo.requestParam"}})],1)],1),t._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"responseParam"}},[o("span",{attrs:{slot:"label"},slot:"label"},[t._v("\n                  响应参数\n                  "),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[o("div",{attrs:{slot:"content"},slot:"content"},[o("pre",[t._v('{\n    "响应参数": [\n        {\n            "参数名称": "userId",\n            "中文名称": "用户ID",\n            "参数类型": "String",\n            "参数 长度": "16",\n            "是否 必填": "是",\n            "参数说明": "网贷平台生成的用户ID"\n        }\n    ],\n    "contractList": [\n        {\n            "参数名称": "contractId",\n            "中文名称": "合同ID",\n            "参数类型": "String",\n            "参数 长度": "20",\n            "是否 必填": "是",\n            "参数说明": ""\n        }\n    ]\n}')])]),t._v(" "),o("img",{staticClass:"icon_toolTip",attrs:{src:a("4161"),width:"16px",alt:"tip"}})])],1),t._v(" "),o("el-input",{attrs:{type:"textarea",placeholder:"请输入",maxlength:"5000",rows:"6","show-word-limit":""},model:{value:t.productInfo.responseParam,callback:function(e){t.$set(t.productInfo,"responseParam",e)},expression:"productInfo.responseParam"}})],1)],1),t._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"responseCode"}},[o("span",{attrs:{slot:"label"},slot:"label"},[t._v("\n                  响应状态码\n                  "),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[o("div",{attrs:{slot:"content"},slot:"content"},[o("pre",[t._v('{\n    "返回状态码": [\n        {\n            "响应状态码": "010001",\n            "说明": "请求参数为空"\n        },\n        {\n            "响应状态码": "010999",\n            "说明": "系统异常"\n        },\n        {\n            "响应状态码": "010004",\n            "说明": "第三方个人信息详情披露接口返回参数为空"\n        }\n    ]\n}')])]),t._v(" "),o("img",{staticClass:"icon_toolTip",attrs:{src:a("4161"),width:"16px",alt:"tip"}})])],1),t._v(" "),o("el-input",{attrs:{type:"textarea",placeholder:"请输入",maxlength:"5000",rows:"6","show-word-limit":""},model:{value:t.productInfo.responseCode,callback:function(e){t.$set(t.productInfo,"responseCode",e)},expression:"productInfo.responseCode"}})],1)],1)],1)],1)]),t._v(" "),o("div",{staticClass:"section apiList"},[o("p",{staticClass:"title"},[t._v("关联产品列表")]),t._v(" "),o("div",{staticClass:"info"},[o("el-button",{staticClass:"btn_addApi",on:{click:function(e){t.ifShowAddApiDialog=!0}}},[t._v("添 加")]),t._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.addedApiList,"header-cell-style":{background:"#f5f5f5",color:"#333"},"cell-style":{padding:"10px 0"}}},[o("el-table-column",{attrs:{prop:"code",label:"产品编号"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$api.buttonAuth("product/detail")?o("router-link",{attrs:{to:{path:"/manage/detail",query:{code:e.row.code}}}},[t._v(t._s(e.row.code))]):o("span",[t._v(t._s(e.row.code))])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"name",label:"产品名称"}}),t._v(" "),o("el-table-column",{attrs:{prop:"remark",label:"产品类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("filterProductType")(e.row.type)))]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"type",label:"对接模式","min-width":"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("filterProductConnectType")(e.row.connectType)))]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$api.buttonAuth("product/development/add")?o("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleRemoveApi(e.row.code)}}},[t._v("移除")]):t._e()]}}])})],1)],1)])]),t._v(" "),o("div",{staticClass:"section btmSec"},[o("el-button",{on:{click:t.handleCancel}},[t._v("取 消")]),t._v(" "),t.ifShowResetBtn?o("el-button",{on:{click:t.resetForm}},[t._v("重 置")]):t._e(),t._v(" "),o("el-button",{attrs:{type:"primary",disabled:t.isSubmitDisable},on:{click:t.submitForm}},[t._v("提 交")])],1),t._v(" "),o("AddApiInterface",{attrs:{"if-show-add-api-dialog":t.ifShowAddApiDialog,"added-api-list":t.addedApiList},on:{"update:ifShowAddApiDialog":function(e){t.ifShowAddApiDialog=e},"update:if-show-add-api-dialog":function(e){t.ifShowAddApiDialog=e},"update:addedApiList":function(e){t.addedApiList=e},"update:added-api-list":function(e){t.addedApiList=e}}})],1)},r=[],i=(a("20d6"),a("ac6a"),a("db72")),n=a("2f62"),s=a("ac8c"),l={name:"DevelopmentForm",components:{AddApiInterface:s["default"]},props:{defaultProductInfo:{type:Object,default:function(){return{}}},ifShowResetBtn:Boolean,isAddProduct:Boolean,isEditProduct:{type:Boolean,default:!1}},data:function(){var t=this,e=function(e,a,o){t.isEditProduct?o():""===a?o(new Error("请输入产品编号")):a.length<5?o(new Error("请输入长度为 5 位数的产品编号")):t.$api.product.checkProductCode(a).then(function(t){o()}).catch(function(t){o(new Error("产品编号已存在"))})};return{isSubmitDisable:!0,checkedWay:[],aryFacilitatorId:[],productInfo:{},productInfoRules:{type:[{required:!0,message:"请选择产品类型"}],code:[{required:!0,message:"请输入产品编号"},{validator:this.$validater.strNumber},{validator:e,trigger:"blur"}],name:[{required:!0,message:"请输入产品名称"}],facilitatorId:[{required:!0,message:"请选择对应服务商"}],testEnvironment:[{required:!0,message:"请输入测试环境地址"}],productEnvironment:[{required:!0,message:"请输入生产环境地址"}],accessType:[{required:!0,message:"请选择请求方式"}]},ifShowAddApiDialog:!1,addedApiList:[]}},computed:Object(i["a"])({},Object(n["b"])(["userId"])),watch:{defaultProductInfo:function(t){this.initData(t)},productInfo:{handler:function(t,e){this.isSubmitDisable=this.$lib.isObjEqual(t,this.defaultProductInfo)},deep:!0},addedApiList:{handler:function(t,e){this.isSubmitDisable=this.$lib.isObjEqual(t,this.defaultProductInfo.productApiDTOList)},deep:!0}},mounted:function(){var t=this;this.isAddProduct&&this.initData(this.defaultProductInfo),this.$api.product.getFacilitatorIds().then(function(e){t.aryFacilitatorId=[],e.data.forEach(function(e){t.aryFacilitatorId.push({value:e.id,label:e.shortName})})})},updated:function(){this.$refs["productInfo"].clearValidate()},methods:{initData:function(t){this.productInfo=this.formateShowInfo(t),this.setDefaultCheckedWay(),this.addedApiList=JSON.parse(JSON.stringify(t.productApiDTOList))},setDefaultCheckedWay:function(){3===this.defaultProductInfo.connectType?this.checkedWay=[1,2]:this.defaultProductInfo.connectType&&(this.checkedWay=[this.defaultProductInfo.connectType])},submitForm:function(){var t=this;this.$refs["productInfo"].validate(function(e){e&&(t.isAddProduct?t.$api.product.productAdd(t.formateSubmitInfo(t.productInfo)).then(function(e){t.$router.go(-1)}).catch(function(e){t.$message.error(e.message)}):t.isEditProduct&&t.$api.product.productDevelopmentInfoEdit(t.formateSubmitInfo(t.productInfo)).then(function(e){t.$router.go(-1)}).catch(function(e){t.$message.error(e.message)}))})},handleCancel:function(){this.$router.go(-1)},resetForm:function(){this.initData(this.defaultProductInfo)},formateSubmitInfo:function(t){var e=this,a=JSON.parse(JSON.stringify(t));2===a.type&&(a.connectType=2);var o=[];return Array.isArray(this.addedApiList)&&this.addedApiList.forEach(function(t){var a={};a.productCode=e.productInfo.code,a.apiCode=t.code,a.createById=e.userId,a.updateById=e.userId,o.push(a)}),a.productApiDTOList=o,a.requestParam=this.$lib.jsonFormat(a.requestParam,!0),a.responseParam=this.$lib.jsonFormat(a.responseParam,!0),a.responseCode=this.$lib.jsonFormat(a.responseCode,!0),a},formateShowInfo:function(t){var e=t?JSON.parse(JSON.stringify(t)):t;return e.requestParam=this.$lib.jsonFormat(e.requestParam),e.responseParam=this.$lib.jsonFormat(e.responseParam),e.responseCode=this.$lib.jsonFormat(e.responseCode),e},handleProductTypeChange:function(t){},handleConnnectTypeChange:function(t){t.length>1?this.productInfo.connectType=3:this.productInfo.connectType=t[0]},handleRemoveApi:function(t){var e=this.addedApiList.findIndex(function(e){return e.code===t});this.addedApiList.splice(e,1)}}},c=l,d=(a("0e55"),a("ba57"),a("2877")),u=Object(d["a"])(c,o,r,!1,null,"2af507ee",null);e["default"]=u.exports},"5f31":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"productReporter_queryResult"}},[a("div",{staticClass:"section mb0"},[a("p",{staticClass:"title"},[t._v("查询结果")]),t._v(" "),a("div",{staticClass:"info"},[a("el-button",{staticClass:"addBtn",attrs:{type:"primary",plain:"",size:"small"},on:{click:function(e){t.ifShowDialog=!0}}},[t._v("添 加")]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingColumnData,expression:"loadingColumnData"}],staticStyle:{width:"100%"},attrs:{id:"queryResultInfo",data:t.queryResultInfo,"header-cell-style":{background:"#f5f5f5",color:"#333"},"cell-style":{padding:"10px 0"}}},[a("el-table-column",{attrs:{prop:"name",label:"列名称","min-width":"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{attrs:{id:"resultName"+e.$index},on:{dblclick:function(a){return t.doubleClick(e.row.name,"resultName"+e.$index)}}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"fieldName",label:"字段名","min-width":"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{attrs:{id:"fieldName"+e.$index},on:{dblclick:function(a){return t.doubleClick(e.row.fieldName,"fieldName"+e.$index)}}},[t._v(t._s(e.row.fieldName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-rank",attrs:{title:"上下拖拽进行排序"}}),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.removeColumn(e.row.id)}}},[t._v("移除")])]}}])})],1)],1)]),t._v(" "),a("el-dialog",{attrs:{title:"添加查询结果",visible:t.ifShowDialog,width:"40%","custom-class":"dialogWrapper"},on:{"update:visible":function(e){t.ifShowDialog=e}}},[a("el-form",{ref:"reporterColumn",attrs:{model:t.reporterColumn,rules:t.reporterColumnRules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"name",label:"列名称"}},[a("el-input",{attrs:{maxlength:"50","show-word-limit":"",placeholder:"请输入"},model:{value:t.reporterColumn.name,callback:function(e){t.$set(t.reporterColumn,"name",e)},expression:"reporterColumn.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"fieldName",label:"字段名"}},[a("el-input",{attrs:{maxlength:"100","show-word-limit":"",placeholder:"请输入"},model:{value:t.reporterColumn.fieldName,callback:function(e){t.$set(t.reporterColumn,"fieldName",e)},expression:"reporterColumn.fieldName"}})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.ifShowDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{loading:t.isSubmitting,type:"primary"},on:{click:t.addColumn}},[t._v("添 加")])],1)],1)],1)},r=[],i=(a("6b54"),a("4360")),n=a("aa47"),s={name:"QueryResult",props:{reporterResultInfo:{type:Array,default:function(){return[]}}},data:function(){return{ifShowDialog:!1,reporterId:this.$route.query.id,loadingColumnData:!1,isSubmitting:!1,queryResultInfo:[],reporterColumn:{name:"",fieldName:"",createById:i["a"].getters.userId,updateById:i["a"].getters.userId,productReporterId:this.$route.query.id},reporterColumnRules:{name:[{required:!0,message:"请输入列名称"}],fieldName:[{required:!0,message:"请输入字段名"}]},updateSequenceParam:{productReporterId:this.$route.query.id.toString(),srcId:0,srcSequence:0,destSequence:0,updateById:i["a"].getters.userId}}},watch:{reporterResultInfo:function(t){this.queryResultInfo=JSON.parse(JSON.stringify(t))},ifShowDialog:function(t){t||this.$refs["reporterColumn"].resetFields()}},mounted:function(){this.rowDrop()},methods:{doubleClick:function(t,e){var a=document.createElement("input");a.value=t,document.body.appendChild(a),a.select(),document.execCommand("Copy"),a.className="oInput",a.style.display="none";var o=document.getElementById(e);o.style.backgroundColor="#3390ff",o.style.color="#fff",setTimeout(function(){o.style.backgroundColor="",o.style.color=""},3e3)},refreshData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(this.queryResultInfo=[]),this.$api.product.getProductReporterColumnList(this.reporterId).then(function(e){t.queryResultInfo=e.data,t.loadingColumnData=!1}).catch(function(e){t.$message.error(e.message)})},resetUpdateSequenceParam:function(t,e){var a=JSON.parse(JSON.stringify(this.queryResultInfo)),o=this.updateSequenceParam;o.srcId=a[t].id,o.srcSequence=a[t].sequence,o.destSequence=a[e].sequence},rowDrop:function(){var t=document.querySelector("#queryResultInfo .el-table__body-wrapper tbody"),e=this;n["a"].create(t,{onEnd:function(t){var a=t.newIndex,o=t.oldIndex;a!==o&&(e.resetUpdateSequenceParam(o,a),e.loadingColumnData=!0,e.$api.product.reporterColumnSort(e.updateSequenceParam).then(function(){e.refreshData(!0)}).catch(function(t){e.$message.error(t.message)}))}})},addColumn:function(){var t=this;this.$refs["reporterColumn"].validate(function(e){if(!e)return!1;t.isSubmitting=!0,t.loadingColumnData=!0,t.$api.product.addProductReporterColumn(t.reporterColumn).then(function(){t.refreshData(),t.isSubmitting=!1,t.ifShowDialog=!1}).catch(function(e){t.isSubmitting=!1,t.ifShowDialog=!1,t.$message.error(e.message)})})},removeColumn:function(t){var e=this;this.loadingColumnData=!0,this.$api.product.deleteProductReporterColumn(t,i["a"].getters.userId).then(function(){e.refreshData()}).catch(function(t){e.$message.error(t.message)})}}},l=s,c=a("2877"),d=Object(c["a"])(l,o,r,!1,null,null,null);e["default"]=d.exports},"61e4":function(t,e,a){},"63da":function(t,e,a){},"6c37":function(t,e,a){},"6d43":function(t,e,a){},"6e23":function(t,e,a){"use strict";var o=a("a976"),r=a.n(o);r.a},"6f44":function(t,e,a){},7481:function(t,e,a){},"771c":function(t,e,a){},"7a28":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("DevelopmentForm",{attrs:{"default-product-info":t.productInfo,"if-show-cancel-btn":t.ifShowCancelBtn,"if-show-reset-btn":t.ifShowResetBtn,"is-add-product":t.isAddProduct}})},r=[],i=a("5c0e"),n={name:"ProductManageDevelopmentAdd",components:{DevelopmentForm:i["default"]},data:function(){return{ifShowCancelBtn:!1,ifShowResetBtn:!0,isAddProduct:!0,productInfo:{code:"",name:"",type:"",connectType:"",facilitatorId:"",testEnvironment:"",productEnvironment:"",accessAddress:"",accessType:"",requestParam:"",responseParam:"",responseCode:"",enabled:!1,productApiDTOList:[],createById:this.$store.getters.userId,updateById:this.$store.getters.userId}}}},s=n,l=a("2877"),c=Object(l["a"])(s,o,r,!1,null,null,null);e["default"]=c.exports},"7b45":function(t,e,a){"use strict";var o=a("7481"),r=a.n(o);r.a},"846c":function(t,e,a){},"855d":function(t,e,a){"use strict";a.r(e);var o=[{value:1,label:"批发零售"},{value:2,label:"制造"},{value:3,label:"交通物流"},{value:4,label:"信息技术"},{value:5,label:"住宿餐饮"},{value:6,label:"金融"},{value:7,label:"房地产"},{value:8,label:"商务服务"},{value:9,label:"生活娱乐"},{value:10,label:"其他"}];e["default"]=o},8672:function(t,e,a){"use strict";var o=a("d5fd"),r=a.n(o);r.a},8686:function(t,e,a){"use strict";var o=a("1fa5"),r=a.n(o);r.a},8807:function(t,e,a){},"8aa6":function(t,e,a){"use strict";var o=a("61e4"),r=a.n(o);r.a},"8e61":function(t,e,a){"use strict";var o=a("afef"),r=a.n(o);r.a},"9e70":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.visible,width:"35%",top:"5vh","custom-class":"policy_addOrEdit"},on:{"update:visible":function(e){t.visible=e}}},[a("div",{staticStyle:{"font-size":"18px",color:"#333"},attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.isAdd?"新增":"编辑")+"政策信息")]),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"信息类型",prop:"type"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.typeAry,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{autocomplete:"off",maxlength:"50","show-word-limit":""},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"概要",prop:"introduction"}},[a("el-input",{attrs:{type:"textarea",rows:3,autocomplete:"off",maxlength:"200","show-word-limit":""},model:{value:t.form.introduction,callback:function(e){t.$set(t.form,"introduction",e)},expression:"form.introduction"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"行业",prop:"industry"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.form.industry,callback:function(e){t.$set(t.form,"industry",e)},expression:"form.industry"}},t._l(t.industryAry,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.label}})}),1)],1),t._v(" "),a("el-form-item",{staticClass:"policy_addOrEdit-multiple-select",attrs:{label:"标签",prop:"label"}},[a("el-select",{attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"","popper-class":"policy_addOrEdit-multiple-outbox",placeholder:"按回车输入下一个"},model:{value:t.labelAry,callback:function(e){t.labelAry=e},expression:"labelAry"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"区域",prop:"province",error:t.areaError}},[a("v-distpicker",{attrs:{province:t.form.province,city:t.form.city,"hide-area":""},on:{province:t.onProvinceSelected,city:t.onCitySelected}})],1),t._v(" "),a("el-form-item",{attrs:{label:"发布时间",prop:"publishDatetime"}},[a("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间"},model:{value:t.form.publishDatetime,callback:function(e){t.$set(t.form,"publishDatetime",e)},expression:"form.publishDatetime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"来源",prop:"source"}},[a("el-input",{attrs:{autocomplete:"off",maxlength:"20","show-word-limit":""},model:{value:t.form.source,callback:function(e){t.$set(t.form,"source",e)},expression:"form.source"}})],1),t._v(" "),a("el-form-item",{staticClass:"mb0",attrs:{label:"跳转链接",prop:"detailUrl"}},[a("el-input",{attrs:{autocomplete:"off",maxlength:"200","show-word-limit":""},model:{value:t.form.detailUrl,callback:function(e){t.$set(t.form,"detailUrl",e)},expression:"form.detailUrl"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{disabled:t.resetDisable},on:{click:t.onReset}},[t._v("重 置")]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.isSubmitting,disabled:t.isSubmitDisable},on:{click:t.onSubmit}},[t._v("提 交")])],1)],1)},r=[],i=(a("28a5"),a("db72")),n=a("2f62"),s=a("855d"),l=a("784f"),c=a.n(l),d={name:"AddOrEdit",components:{VDistpicker:c.a},props:{ifShowDialog:{type:Boolean,default:!1},productCode:{type:String,default:""},isAdd:{type:Boolean,default:!0},currentFormData:{type:Object,default:function(){return{type:"",title:"",introduction:"",industry:"",province:"",city:"",publishDatetime:"",source:"",detailUrl:"",label:""}}}},data:function(){var t=function(t,e,a){e&&!/^(https?:)/.test(e)?a(new Error("输入的URL必须带协议头http/https")):a()};return{isSubmitting:!1,industryAry:s["default"],typeAry:[{value:1,label:"政府政策"},{value:2,label:"行业政策"}],labelAry:[],form:{},rules:{type:[{required:!0,message:"请选择产品类型"}],title:[{required:!0,message:"请输入标题"}],introduction:[{required:!0,message:"请输入概要"}],province:[{required:!0,message:"请选择区域"}],publishDatetime:[{required:!0,message:"请选择发布时间"}],source:[{required:!0,message:"请输入来源"}],detailUrl:[{required:!0,message:"请输入跳转链接"},{validator:t,trigger:"blur"}]},resetDisable:!1,isSubmitDisable:!0,areaError:" "}},computed:Object(i["a"])({},Object(n["b"])(["userId"]),{visible:{get:function(){return this.ifShowDialog},set:function(t){this.$emit("update:ifShowDialog",t)}}}),watch:{visible:function(t){this.$refs["form"]&&this.onReset(),t||this.$emit("update:currentFormData",{type:"",title:"",introduction:"",industry:"",province:"",city:"",publishDatetime:"",source:"",detailUrl:"",label:""})},currentFormData:function(t){this.form=JSON.parse(JSON.stringify(t))},labelAry:function(t){this.form.label=0===t.length?"":t.join("#")},"form.label":function(t){this.labelAry=t?t.split("#"):[]},form:{handler:function(t,e){this.isSubmitDisable=this.$lib.isObjEqual(t,this.currentFormData)},deep:!0}},methods:{onProvinceSelected:function(t){this.form.province="省"===t.value?"":t.value,this.areaError="省"===t.value?"请选择区域":""},onCitySelected:function(t){this.form.city="市"===t.value?"":t.value},onReset:function(){this.$refs["form"].resetFields(),this.form=JSON.parse(JSON.stringify(this.currentFormData))},onSubmit:function(){var t=this;this.$refs["form"].validate(function(e){return!!e&&(!!t.form.province&&(t.isSubmitting=!0,void(t.isAdd?t.$api.product.addPolicyInfo(Object.assign({productCode:t.productCode,createById:t.userId},t.form)).then(function(){t.visible=!1,t.isSubmitting=!1,t.$emit("onRefresh")}).catch(function(e){return t.visible=!1,t.isSubmitting=!1,t.$message.error(e.message),!1}):t.$api.product.updatePolicyInfo(Object.assign({updateById:t.userId},t.form)).then(function(){t.visible=!1,t.isSubmitting=!1,t.$emit("onRefresh")}).catch(function(e){return t.visible=!1,t.isSubmitting=!1,t.$message.error(e.message),!1}))))})}}},u=d,p=(a("f162"),a("2877")),f=Object(p["a"])(u,o,r,!1,null,null,null);e["default"]=f.exports},a19a:function(t,e,a){"use strict";var o=a("6f44"),r=a.n(o);r.a},a23d:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingProductInfo,expression:"loadingProductInfo"}],staticClass:"btmFixed",attrs:{id:"productManagement_detail"}},[a("div",{staticClass:"section"},[a("p",{staticClass:"title"},[t._v("产品信息")]),t._v(" "),a("div",{staticClass:"info"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("span",{staticClass:"key"},[t._v("产品编码:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productInfo.code))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"key"},[t._v("产品名称:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productInfo.name))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"key"},[t._v("产品类型:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t._f("filterProductType")(t.productInfo.type)))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"key"},[t._v("对接方式:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t._f("filterProductConnectType")(t.productInfo.connectType)))])])],1)],1)]),t._v(" "),a("ProductBasicInfo",{attrs:{"product-info":t.productInfo,"introduce-image-list":t.introduceImageList,"logo-image-list":t.logoImageList}}),t._v(" "),a("div",{staticClass:"section btmSec"},[t.$api.buttonAuth("product/operation/edit")?a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleEditProduct(t.productInfo.code)}}},[t._v("编 辑")]):t._e()],1)],1)},r=[],i=a("50d9"),n={name:"BusinessConfigDetail",components:{ProductBasicInfo:i["default"]},data:function(){return{loadingProductInfo:!1,introduceImageList:[],logoImageList:[],productInfo:{}}},watch:{$route:function(t,e){this.getProductInfo(t.query.code)}},beforeRouteEnter:function(t,e,a){a(function(e){return e.getProductInfo(t.query.code)})},beforeRouteUpdate:function(t,e,a){this.getProductInfo(this.$route.query.code).then(function(){a()})},methods:{setProductInfo:function(t){this.productInfo=t,this.introduceImageList.push(t.introduceImage),this.logoImageList.push(t.logoImage),this.loadingProductInfo=!1},getProductInfo:function(t){var e=this;return this.loadingProductInfo=!0,this.$api.product.getProductOperationInfoByCode(t).then(function(t){e.setProductInfo(t.data[0])})},handleCancel:function(){this.$router.go(-1)},handleEditProduct:function(t){this.$router.push({path:"/manage/operation/edit",query:{code:t}})}}},s=n,l=(a("3e10"),a("2877")),c=Object(l["a"])(s,o,r,!1,null,"4df6fe07",null);e["default"]=c.exports},a976:function(t,e,a){},aa22:function(t,e,a){},ac8c:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-dialog",{attrs:{visible:t.ifShowDialog,width:"40%",top:"5vh","custom-class":"productManegeDevelopment_AddApiInterface"},on:{"update:visible":function(e){t.ifShowDialog=e}}},[o("div",{staticStyle:{"font-size":"18px",color:"#333"},attrs:{slot:"title"},slot:"title"},[t._v("添加关联产品")]),t._v(" "),o("div",{attrs:{slot:"default"},slot:"default"},[o("el-form",{ref:"queryApiCondition",attrs:{model:t.queryApiCondition,rules:t.queryApiRules}},[o("el-row",[o("el-col",{attrs:{span:9}},[o("el-form-item",{attrs:{prop:"code"}},[o("el-input",{attrs:{maxlength:"19","show-word-limit":"",placeholder:"产品编号"},model:{value:t.queryApiCondition.code,callback:function(e){t.$set(t.queryApiCondition,"code",e)},expression:"queryApiCondition.code"}})],1)],1),t._v(" "),o("el-col",{attrs:{span:9}},[o("el-form-item",{attrs:{prop:"name"}},[o("el-input",{attrs:{placeholder:"产品名称"},model:{value:t.queryApiCondition.name,callback:function(e){t.$set(t.queryApiCondition,"name",e)},expression:"queryApiCondition.name"}})],1)],1),t._v(" "),o("el-col",{attrs:{span:6}},[o("el-button",{on:{click:t.queryApiList}},[t._v("查 询")]),t._v(" "),o("el-button",{staticClass:"btn_refreshApiList",on:{click:t.refreshApiList}},[o("img",{attrs:{src:a("1576"),alt:"刷新 API 列表"}})])],1)],1)],1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingAllApiList,expression:"loadingAllApiList"}],staticStyle:{width:"100%"},attrs:{data:t.allApiList,"header-cell-style":{background:"#f5f5f5",color:"#333"},"cell-style":{padding:"10px 0"}},on:{"selection-change":t.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection","class-name":"selectionCol",width:"30"}}),t._v(" "),o("el-table-column",{attrs:{prop:"code",label:"产品编号","min-width":"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.code))]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"name",label:"产品名称"}}),t._v(" "),o("el-table-column",{attrs:{prop:"remark",label:"产品类型","min-width":"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("filterProductType")(e.row.type)))]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"accessType",label:"对接模式","min-width":"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("filterProductConnectType")(e.row.connectType)))]}}])})],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.ifShowDialog=!1}}},[t._v("取 消")]),t._v(" "),t.$api.buttonAuth("product/development/add")?o("el-button",{attrs:{type:"primary"},on:{click:t.batchAddAPI}},[t._v("添 加")]):t._e()],1)])},r=[],i=(a("7514"),a("ac6a"),{name:"AddApiInterface",props:{ifShowAddApiDialog:Boolean,addedApiList:{type:Array,default:function(){return[]}}},data:function(){return{loadingAllApiList:!1,batchCheckedApi:[],allApiList:[],queryApiCondition:{code:"",name:""},queryApiRules:{code:[{validator:this.$validater.strNumber}]}}},computed:{ifShowDialog:{get:function(){return this.ifShowAddApiDialog},set:function(t){this.$emit("update:ifShowAddApiDialog",t)}},selectedApiList:{get:function(){return this.addedApiList},set:function(t){this.$emit("update:addedApiList",t)}}},watch:{ifShowDialog:function(t){t&&this.getApiList()}},methods:{queryApiList:function(){this.getApiList()},getApiList:function(){var t=this;this.loadingAllApiList=!0,this.$api.product.getProductList(this.queryApiCondition).then(function(e){t.allApiList=[],e.data&&e.data.forEach(function(e){var a=t.selectedApiList.find(function(t){return t.code===e.code});a||t.allApiList.push(e)}),t.loadingAllApiList=!1})},refreshApiList:function(){this.$refs["queryApiCondition"].resetFields(),this.$refs["queryApiCondition"].clearValidate(),this.getApiList()},handleSelectionChange:function(t){this.batchCheckedApi=t},batchAddAPI:function(){var t=this;this.batchCheckedApi.forEach(function(e){t.selectedApiList.push(e)}),this.ifShowDialog=!1}}}),n=i,s=(a("f1e2"),a("2877")),l=Object(s["a"])(n,o,r,!1,null,null,null);e["default"]=l.exports},afef:function(t,e,a){},b364:function(t,e,a){},b7be:function(t,e,a){"use strict";var o=a("0785"),r=a.n(o);r.a},ba57:function(t,e,a){"use strict";var o=a("771c"),r=a.n(o);r.a},c038:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.visible,width:"35%",top:"10vh","custom-class":"report-modal"},on:{close:t.onClose}},[a("div",{staticStyle:{"font-size":"18px",color:"#333"},attrs:{slot:"title"},slot:"title"},[t._v("新增报表")]),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"115px"}},[a("el-form-item",{attrs:{label:"产品类型",prop:"productType"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:t.onChangeProductType},model:{value:t.form.productType,callback:function(e){t.$set(t.form,"productType",e)},expression:"form.productType"}},t._l(t.$settings.product.types,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"产品名称",prop:"productName"}},[a("el-select",{directives:[{name:"loading",rawName:"v-loading",value:t.productNameLoading,expression:"productNameLoading"}],attrs:{clearable:"",placeholder:"请先选择产品类型"},model:{value:t.form.productName,callback:function(e){t.$set(t.form,"productName",e)},expression:"form.productName"}},t._l(t.productNameAry,function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})}),1)],1),t._v(" "),a("el-form-item",{staticClass:"report-modal-multiple-select",attrs:{label:"报表名称",prop:"reportNames",error:t.reportNameError}},[a("el-select",{attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"","popper-class":"report-modal-multiple-outbox",placeholder:"按回车输入下一个"},on:{change:t.onChangeReportName},model:{value:t.form.reportNames,callback:function(e){t.$set(t.form,"reportNames",e)},expression:"form.reportNames"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"对象",prop:"reportType"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.form.reportType,callback:function(e){t.$set(t.form,"reportType",e)},expression:"form.reportType"}},t._l(t.$settings.product.reportTypes,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",{staticClass:"mb0",attrs:{label:"统计维度",prop:"dimension"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.form.dimension,callback:function(e){t.$set(t.form,"dimension",e)},expression:"form.dimension"}},t._l(t.$settings.product.reportDimensions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{disabled:t.resetDisable},on:{click:t.onReset}},[t._v("重 置")]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.submitLoading,disabled:t.isSubmitDisable},on:{click:t.onSubmit}},[t._v("提 交")])],1)],1)},r=[],i={name:"ReportModal",props:{visible:Boolean,submitLoading:Boolean},data:function(){return{form:{productType:"",productName:"",reportNames:[],reportType:"",dimension:""},rules:{productType:[{required:!0,message:"请选择产品类型"}],productName:[{required:!0,message:"请选择产品名称"}],reportNames:[{required:!0,message:"请输入报表名称"}],reportType:[{required:!0,message:"请选择报表类型"}],dimension:[{required:!0,message:"请选择统计维度"}]},resetDisable:!1,productNameAry:[],productNameLoading:!1,reportNameError:""}},computed:{isSubmitDisable:function(){return!(!this.reportNameError&&0!==this.form["reportNames"].length&&this.form["productType"]&&this.form["productName"]&&this.form["reportType"])}},watch:{submitLoading:function(t){t&&(this.resetDisable=!0)}},methods:{onChangeReportName:function(t){this.reportNameError=""},onChangeProductType:function(t){var e=this;this.productNameAry=[],this.form.productName="",this.productNameLoading=!0,this.$api.product.getProductByType({type:t}).then(function(t){e.productNameAry=t.data,e.productNameLoading=!1})},onReset:function(){this.$refs["form"].resetFields()},onClose:function(){this.$emit("onClose"),this.onReset()},onSubmit:function(){var t=this;this.$refs["form"].validate(function(e){if(!e)return!1;if(t.reportNameError)return!1;var a=t.form,o=a.productName,r=a.reportNames,i=a.reportType,n=a.dimension;t.$api.product.checkReporter({productCode:o,reporterNames:r,type:i,dimension:n}).then(function(){t.$emit("onSubmit",Object.assign({},t.form))}).catch(function(e){return t.reportNameError=e.message,!1})})}}},n=i,s=(a("23e0"),a("2877")),l=Object(s["a"])(n,o,r,!1,null,null,null);e["default"]=l.exports},c0a1:function(t,e,a){},c645:function(t,e,a){"use strict";var o=a("321e"),r=a.n(o);r.a},c900:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"product-dataManage-outbreakInfo section"},[a("p",{staticClass:"title"},[t._v("疫情信息")]),t._v(" "),a("div",{staticClass:"contactInfo info"},[a("el-form",{ref:"formData",staticClass:"formData",attrs:{model:t.formData,rules:t.formRules}},[a("p",{staticClass:"grp-lbl sec1"},[t._v("国内疫情数据：")]),t._v(" "),a("el-row",[a("el-col",{staticClass:"lt",attrs:{xs:12,sm:6,md:4}},[a("el-form-item",{attrs:{label:"累计确诊",prop:"a"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":"",clearable:"",disabled:!t.isEditting,placeholder:"请输入"},model:{value:t.formData.a,callback:function(e){t.$set(t.formData,"a",e)},expression:"formData.a"}})],1)],1),t._v(" "),a("el-col",{staticClass:"rt",attrs:{xs:12,sm:6,md:4}},[a("el-form-item",{staticClass:"d_yesterday",attrs:{label:"较昨日",prop:"b"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":"",clearable:"",disabled:!t.isEditting,placeholder:"请输入"},model:{value:t.formData.b,callback:function(e){t.$set(t.formData,"b",e)},expression:"formData.b"}})],1)],1),t._v(" "),a("el-col",{staticClass:"lt",attrs:{xs:12,sm:6,md:4}},[a("el-form-item",{attrs:{label:"累计死亡",prop:"e"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":"",clearable:"",disabled:!t.isEditting,placeholder:"请输入"},model:{value:t.formData.e,callback:function(e){t.$set(t.formData,"e",e)},expression:"formData.e"}})],1)],1),t._v(" "),a("el-col",{staticClass:"rt",attrs:{xs:12,sm:6,md:4}},[a("el-form-item",{staticClass:"d_yesterday",attrs:{label:"较昨日",prop:"f"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":"",clearable:"",disabled:!t.isEditting,placeholder:"请输入"},model:{value:t.formData.f,callback:function(e){t.$set(t.formData,"f",e)},expression:"formData.f"}})],1)],1),t._v(" "),a("el-col",{staticClass:"lt",attrs:{xs:12,sm:6,md:4}},[a("el-form-item",{attrs:{label:"累计治愈",prop:"g"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":"",clearable:"",disabled:!t.isEditting,placeholder:"请输入"},model:{value:t.formData.g,callback:function(e){t.$set(t.formData,"g",e)},expression:"formData.g"}})],1)],1),t._v(" "),a("el-col",{staticClass:"rt",attrs:{xs:12,sm:6,md:4}},[a("el-form-item",{staticClass:"d_yesterday",attrs:{label:"较昨日",prop:"h"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":"",clearable:"",disabled:!t.isEditting,placeholder:"请输入"},model:{value:t.formData.h,callback:function(e){t.$set(t.formData,"h",e)},expression:"formData.h"}})],1)],1),t._v(" "),a("el-col",{staticClass:"lt",attrs:{xs:12,sm:6,md:4}},[a("el-form-item",{attrs:{label:"现有确诊",prop:"k"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":"",clearable:"",disabled:!t.isEditting,placeholder:"请输入"},model:{value:t.formData.k,callback:function(e){t.$set(t.formData,"k",e)},expression:"formData.k"}})],1)],1),t._v(" "),a("el-col",{staticClass:"rt",attrs:{xs:12,sm:6,md:4}},[a("el-form-item",{staticClass:"d_yesterday",attrs:{label:"较昨日",prop:"l"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":"",clearable:"",disabled:!t.isEditting,placeholder:"请输入"},model:{value:t.formData.l,callback:function(e){t.$set(t.formData,"l",e)},expression:"formData.l"}})],1)],1),t._v(" "),a("el-col",{staticClass:"lt",attrs:{xs:12,sm:6,md:4}},[a("el-form-item",{attrs:{label:"境外输入",prop:"m"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":"",clearable:"",disabled:!t.isEditting,placeholder:"请输入"},model:{value:t.formData.m,callback:function(e){t.$set(t.formData,"m",e)},expression:"formData.m"}})],1)],1),t._v(" "),a("el-col",{staticClass:"rt",attrs:{xs:12,sm:6,md:4}},[a("el-form-item",{staticClass:"d_yesterday",attrs:{label:"较昨日",prop:"n"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":"",clearable:"",disabled:!t.isEditting,placeholder:"请输入"},model:{value:t.formData.n,callback:function(e){t.$set(t.formData,"n",e)},expression:"formData.n"}})],1)],1),t._v(" "),a("el-col",{staticClass:"lt",attrs:{xs:12,sm:6,md:4}},[a("el-form-item",{attrs:{label:"现有无症状",prop:"o"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":"",clearable:"",disabled:!t.isEditting,placeholder:"请输入"},model:{value:t.formData.o,callback:function(e){t.$set(t.formData,"o",e)},expression:"formData.o"}})],1)],1),t._v(" "),a("el-col",{staticClass:"rt",attrs:{xs:12,sm:6,md:4}},[a("el-form-item",{staticClass:"d_yesterday",attrs:{label:"较昨日",prop:"p"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":"",clearable:"",disabled:!t.isEditting,placeholder:"请输入"},model:{value:t.formData.p,callback:function(e){t.$set(t.formData,"p",e)},expression:"formData.p"}})],1)],1)],1),t._v(" "),a("el-divider"),t._v(" "),a("p",{staticClass:"grp-lbl"},[t._v("国外疫情数据：")]),t._v(" "),a("el-row",[a("el-col",{staticClass:"lt",attrs:{xs:12,sm:6,md:4}},[a("el-form-item",{attrs:{label:"现有确诊",prop:"q"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":"",clearable:"",disabled:!t.isEditting,placeholder:"请输入"},model:{value:t.formData.q,callback:function(e){t.$set(t.formData,"q",e)},expression:"formData.q"}})],1)],1),t._v(" "),a("el-col",{staticClass:"rt",attrs:{xs:12,sm:6,md:4}},[a("el-form-item",{staticClass:"d_yesterday",attrs:{label:"较昨日",prop:"r"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":"",clearable:"",disabled:!t.isEditting,placeholder:"请输入"},model:{value:t.formData.r,callback:function(e){t.$set(t.formData,"r",e)},expression:"formData.r"}})],1)],1),t._v(" "),a("el-col",{staticClass:"lt",attrs:{xs:12,sm:6,md:4}},[a("el-form-item",{attrs:{label:"累计确诊",prop:"s"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":"",clearable:"",disabled:!t.isEditting,placeholder:"请输入"},model:{value:t.formData.s,callback:function(e){t.$set(t.formData,"s",e)},expression:"formData.s"}})],1)],1),t._v(" "),a("el-col",{staticClass:"rt",attrs:{xs:12,sm:6,md:4}},[a("el-form-item",{staticClass:"d_yesterday",attrs:{label:"较昨日",prop:"t"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":"",clearable:"",disabled:!t.isEditting,placeholder:"请输入"},model:{value:t.formData.t,callback:function(e){t.$set(t.formData,"t",e)},expression:"formData.t"}})],1)],1),t._v(" "),a("el-col",{staticClass:"lt",attrs:{xs:12,sm:6,md:4}},[a("el-form-item",{attrs:{label:"累计治愈",prop:"u"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":"",clearable:"",disabled:!t.isEditting,placeholder:"请输入"},model:{value:t.formData.u,callback:function(e){t.$set(t.formData,"u",e)},expression:"formData.u"}})],1)],1),t._v(" "),a("el-col",{staticClass:"rt",attrs:{xs:12,sm:6,md:4}},[a("el-form-item",{staticClass:"d_yesterday",attrs:{label:"较昨日",prop:"v"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":"",clearable:"",disabled:!t.isEditting,placeholder:"请输入"},model:{value:t.formData.v,callback:function(e){t.$set(t.formData,"v",e)},expression:"formData.v"}})],1)],1),t._v(" "),a("el-col",{staticClass:"lt",attrs:{xs:12,sm:6,md:4}},[a("el-form-item",{attrs:{label:"累计死亡",prop:"w"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":"",clearable:"",disabled:!t.isEditting,placeholder:"请输入"},model:{value:t.formData.w,callback:function(e){t.$set(t.formData,"w",e)},expression:"formData.w"}})],1)],1),t._v(" "),a("el-col",{staticClass:"rt",attrs:{xs:12,sm:6,md:4}},[a("el-form-item",{staticClass:"d_yesterday",attrs:{label:"较昨日",prop:"x"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":"",clearable:"",disabled:!t.isEditting,placeholder:"请输入"},model:{value:t.formData.x,callback:function(e){t.$set(t.formData,"x",e)},expression:"formData.x"}})],1)],1)],1),t._v(" "),a("el-divider"),t._v(" "),a("el-row",{staticClass:"last_row"},[a("el-col",{attrs:{xs:24,sm:12,md:8}},[a("el-form-item",{attrs:{label:"更新时间",prop:"i"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",clearable:"",disabled:!t.isEditting,placeholder:"选择日期"},model:{value:t.formData.i,callback:function(e){t.$set(t.formData,"i",e)},expression:"formData.i"}})],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:16}},[a("el-form-item",{attrs:{label:"更多疫情URL",prop:"j"}},[a("el-input",{attrs:{maxlength:"100","show-word-limit":"",clearable:"",disabled:!t.isEditting,placeholder:"请输入"},model:{value:t.formData.j,callback:function(e){t.$set(t.formData,"j",e)},expression:"formData.j"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"queryBtn",staticStyle:{"text-align":"right"},attrs:{size:"large"}},[t.isEditting?a("div",[a("el-button",{on:{click:t.handleCancel}},[t._v("取消")]),t._v(" "),a("el-button",{on:{click:function(e){return t.resetForm("formData")}}},[t._v("重置")]),t._v(" "),a("el-button",{attrs:{loading:t.isSubmitting,type:"primary",disabled:t.isSubmitDisable},on:{click:t.handleSubmit}},[t._v("提交")])],1):a("el-button",{attrs:{type:"primary"},on:{click:t.handleEdit}},[t._v("编辑")])],1)],1)],1)],1)],1)])},r=[],i=(a("6b54"),a("a481"),a("db72")),n=a("2f62"),s={name:"OutbreakInfo",props:{productCode:{type:String,default:""}},data:function(){var t=function(t,e,a){e&&!/^(https?:)/.test(e)?a(new Error("输入的URL必须带协议头http/https")):a()};return{isLoading:!1,isEditting:!1,isSubmitting:!1,isSubmitDisable:!0,defaultFormData:{},formData:{},formRules:{a:[{required:!0,message:"请输入累计确诊"},{validator:this.$validater.strNumber}],b:[{required:!0,message:"请输入较昨日新增人数"},{validator:this.$validater.integerNP}],e:[{required:!0,message:"请输入累计死亡"},{validator:this.$validater.strNumber}],f:[{required:!0,message:"请输入较昨日新增人数"},{validator:this.$validater.integerNP}],g:[{required:!0,message:"请输入累计治愈"},{validator:this.$validater.strNumber}],h:[{required:!0,message:"请输入较昨日新增人数"},{validator:this.$validater.integerNP}],i:[{required:!0,message:"请输入更新时间"}],j:[{required:!0,message:"请输入更多疫情URL"},{validator:t,trigger:"blur"}],k:[{required:!0,message:"请输入现有确诊"},{validator:this.$validater.strNumber}],l:[{required:!0,message:"请输入较昨日新增人数"},{validator:this.$validater.integerNP}],m:[{required:!0,message:"请输入境外输入"},{validator:this.$validater.strNumber}],n:[{required:!0,message:"请输入较昨日新增人数"},{validator:this.$validater.integerNP}],o:[{required:!0,message:"请输入现有无症状"},{validator:this.$validater.strNumber}],p:[{required:!0,message:"请输入较昨日新增人数"},{validator:this.$validater.integerNP}],q:[{required:!0,message:"请输入现有确诊"},{validator:this.$validater.strNumber}],r:[{required:!0,message:"请输入较昨日新增人数"},{validator:this.$validater.integerNP}],s:[{required:!0,message:"请输入累计确诊"},{validator:this.$validater.strNumber}],t:[{required:!0,message:"请输入较昨日新增人数"},{validator:this.$validater.integerNP}],u:[{required:!0,message:"请输入累计治愈"},{validator:this.$validater.strNumber}],v:[{required:!0,message:"请输入较昨日新增人数"},{validator:this.$validater.integerNP}],w:[{required:!0,message:"请输入累计死亡"},{validator:this.$validater.strNumber}],x:[{required:!0,message:"请输入较昨日新增人数"},{validator:this.$validater.integerNP}]}}},computed:Object(i["a"])({},Object(n["b"])(["userId"])),watch:{formData:{handler:function(t,e){this.isSubmitDisable=this.$lib.isObjEqual(t,this.defaultFormData)},deep:!0}},mounted:function(){this.getOutbreakData()},methods:{getOutbreakData:function(){var t=this;return this.isLoading=!0,this.$api.product.getOutbreakData({productCode:this.productCode,type:1}).then(function(e){e.data&&(t.formData=t.formateData(JSON.parse(e.data[0].content))),t.defaultFormData=JSON.parse(JSON.stringify(t.formData)),t.isLoading=!1}).catch(function(e){t.isLoading=!1,t.$message.error(e.message)})},formateData:function(t){if(t){var e=JSON.parse(JSON.stringify(t));for(var a in e)"i"!==a&&"j"!==a&&(e[a]=e[a].replace(/,/g,""));return e}},handleEdit:function(){this.isEditting=!0},handleCancel:function(){this.resetForm("formData"),this.isEditting=!1},handleSubmit:function(){var t=this;this.$refs["formData"].validate(function(e){if(!e)return!1;t.isLoading=!0,t.$api.product.addOrUpdateOutbreakData(t.packageFormData(t.formData)).then(function(){t.isLoading=!1,t.isEditting=!1,t.getOutbreakData()}).catch(function(e){t.isLoading=!1,t.$message.error(e.message)})})},packageFormData:function(t){if(t){var e={};e.productCode=this.productCode,e.type=1,e.createById=this.userId,e.updateById=this.userId;var a=JSON.parse(JSON.stringify(t));for(var o in a)"i"!==o&&"j"!==o&&(a[o]=(a[o]||0).toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,"));return e.content=JSON.stringify(a),e}},resetForm:function(t){this.$refs[t].clearValidate(),this.formData=JSON.parse(JSON.stringify(this.defaultFormData))}}},l=s,c=(a("8686"),a("3852"),a("2877")),d=Object(c["a"])(l,o,r,!1,null,"7be6d0dd",null);e["default"]=d.exports},cd21:function(t,e,a){"use strict";var o=a("d68c"),r=a.n(o);r.a},d1bc:function(t,e,a){"use strict";var o=a("552c"),r=a.n(o);r.a},d5fd:function(t,e,a){},d68c:function(t,e,a){},d755:function(t,e,a){},d7e7:function(t,e,a){"use strict";var o=a("8807"),r=a.n(o);r.a},d837:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingReporterInfo,expression:"loadingReporterInfo"}],attrs:{id:"productReporter_detail"}},[a("BasicInfo",{attrs:{"reporter-info":t.reporterInfo},on:{"update:reporterInfo":function(e){t.reporterInfo=e},"update:reporter-info":function(e){t.reporterInfo=e}}}),t._v(" "),a("QueryCondition",{attrs:{"reporter-condition-info":t.reporterConditionInfo},on:{"update:reporterConditionInfo":function(e){t.reporterConditionInfo=e},"update:reporter-condition-info":function(e){t.reporterConditionInfo=e}}}),t._v(" "),a("QueryResult",{attrs:{"reporter-result-info":t.reporterResultInfo},on:{"update:reporterResultInfo":function(e){t.reporterResultInfo=e},"update:reporter-result-info":function(e){t.reporterResultInfo=e}}})],1)},r=[],i=a("e7a3"),n=a("1384"),s=a("5f31"),l={name:"ProductDetail",components:{BasicInfo:i["default"],QueryCondition:n["default"],QueryResult:s["default"]},data:function(){return{loadingReporterInfo:!1,reporterId:this.$route.query.id,reporterInfo:{},reporterConditionInfo:[],reporterResultInfo:[]}},watch:{$route:function(t,e){this.getReporterInfo(t.query.id)}},beforeRouteEnter:function(t,e,a){a(function(e){return e.getReporterInfo(t.query.id)})},beforeRouteUpdate:function(t,e,a){this.getReporterInfo(this.reporterId).then(function(){a()})},methods:{setReporterInfo:function(t){this.reporterInfo=t,this.reporterConditionInfo=t.reporterSearchConditionDTOList,this.reporterResultInfo=t.reporterColumnDTOList,this.loadingReporterInfo=!1},getReporterInfo:function(t){var e=this;return this.loadingReporterInfo=!0,this.$api.product.getProductReporterInfoById(t).then(function(t){e.setReporterInfo(t.data[0])}).catch(function(t){e.$message.error(t.message)})}}},c=l,d=(a("7b45"),a("2877")),u=Object(d["a"])(c,o,r,!1,null,null,null);e["default"]=u.exports},d8eb:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m"},[a("el-form",{ref:"queryCondition",staticClass:"queryCondition section",attrs:{model:t.queryCondition,rules:t.queryRules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"产品编码",prop:"productCode","label-width":"70px"}},[a("el-input",{attrs:{maxlength:"19","show-word-limit":"",clearable:"",placeholder:"请输入"},model:{value:t.queryCondition.productCode,callback:function(e){t.$set(t.queryCondition,"productCode",e)},expression:"queryCondition.productCode"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"产品类型",prop:"productType"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.queryCondition.productType,callback:function(e){t.$set(t.queryCondition,"productType",e)},expression:"queryCondition.productType"}},t._l(t.$settings.product.types,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"产品名称",prop:"productName"}},[a("el-input",{attrs:{maxlength:"20","show-word-limit":"",clearable:"",placeholder:"请输入"},model:{value:t.queryCondition.productName,callback:function(e){t.$set(t.queryCondition,"productName",e)},expression:"queryCondition.productName"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"报表名称",prop:"name","label-width":"70px"}},[a("el-input",{attrs:{maxlength:"20","show-word-limit":"",clearable:"",placeholder:"请输入"},model:{value:t.queryCondition.name,callback:function(e){t.$set(t.queryCondition,"name",e)},expression:"queryCondition.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"对象",prop:"type"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.queryCondition.type,callback:function(e){t.$set(t.queryCondition,"type",e)},expression:"queryCondition.type"}},t._l(t.$settings.product.reportTypes,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"创建时间",prop:"beginTime"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"~","value-format":"yyyy-MM-dd","start-placeholder":"开始时间","end-placeholder":"结束时间"},model:{value:t.reporterCreatedTime,callback:function(e){t.reporterCreatedTime=e},expression:"reporterCreatedTime"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"primary",size:"large"},on:{click:t.onAdd}},[t._v("增加")])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"queryBtn",staticStyle:{"text-align":"right"},attrs:{size:"large"}},[a("el-button",{on:{click:function(e){return t.resetForm("queryCondition")}}},[t._v("重置")]),t._v(" "),a("el-button",{attrs:{loading:t.inQuering,type:"primary"},on:{click:function(e){return t.onSearch("queryCondition")}}},[t._v("查询")])],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"reporterListTable section mb0"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:t.reporterList,"header-cell-style":{background:"#f5f5f5",color:"#333"},"cell-style":{padding:"10px 0"}}},[a("el-table-column",{attrs:{label:"产品编码","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$api.buttonAuth("product/detail")?a("router-link",{attrs:{to:{path:"/manage/detail",query:{code:e.row.productCode}}}},[t._v(t._s(e.row.productCode))]):a("span",[t._v(t._s(e.row.productCode))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"产品名称","min-width":"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{attrs:{title:e.row.productName}},[t._v(t._s(e.row.productName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"productType",label:"产品类型","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("filterProductType")(e.row.productType)))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"报表名称","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{attrs:{title:e.row.name}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"对象","min-width":"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{attrs:{title:t._f("filterReportType")(e.row.type)}},[t._v(t._s(t._f("filterReportType")(e.row.type)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"统计维度","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{attrs:{title:t._f("filterReportDimension")(e.row.dimension)}},[t._v(t._s(t._f("filterReportDimension")(e.row.dimension)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createDatetime",label:"创建时间","min-width":"145"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"55"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$api.buttonAuth("product/reporter/detail")?a("router-link",{attrs:{to:{path:"/reporter/detail",query:{id:e.row.id}}}},[t._v("配置")]):t._e()]}}])})],1),t._v(" "),a("DataPagination",{attrs:{"pagination-data":t.paginationData},on:{"update:paginationData":function(e){t.paginationData=e},"update:pagination-data":function(e){t.paginationData=e},resetData:t.getReporterList}})],1),t._v(" "),a("ReportModal",{attrs:{visible:t.reportModalVisible,"submit-loading":t.reportModalSubmitLoading},on:{onClose:function(e){t.reportModalVisible=!1},onSubmit:t.onSubmotReportModal}})],1)},r=[],i=a("db72"),n=a("c038"),s={name:"Index",components:{ReportModal:n["default"]},data:function(){return{paginationData:{pageIndex:1,pageSize:10,dataCount:0},tableLoading:!1,queryCondition:{productCode:"",productType:"",productName:"",name:"",beginTime:"",endTime:"",type:""},queryRules:{productCode:[{validator:this.$validater.strNumber}]},inQuering:!1,reporterList:[],reportModalVisible:!1,reportModalSubmitLoading:!1}},computed:{reporterCreatedTime:{get:function(){return[this.queryCondition.beginTime,this.queryCondition.endTime]},set:function(t){this.queryCondition.beginTime=t?t[0]:"",this.queryCondition.endTime=t?t[1]:""}}},beforeRouteEnter:function(t,e,a){a(function(t){return t.getReporterList()})},beforeRouteUpdate:function(t,e,a){this.getReporterList().then(function(){a()})},mounted:function(){var t=this.$session.getQueryConditions();t&&(this.queryCondition=t)},methods:{setReporterList:function(t){this.reporterList=t.data,this.paginationData.dataCount=t.count},getReporterList:function(){var t=this;return this.tableLoading=!0,this.$api.product.getProductReporterList(Object(i["a"])({},this.paginationData,{conditions:this.queryCondition})).then(function(e){t.setReporterList(e),t.tableLoading=!1}).catch(function(e){t.tableLoading=!1,t.$message.error(e.message)})},onAdd:function(){this.reportModalVisible=!0},resetForm:function(t){this.$refs[t].resetFields(),this.$refs[t].clearValidate()},onSearch:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.inQuering=!0,e.getReporterList().then(function(){e.inQuering=!1}).catch(function(){e.inQuering=!1}),e.$session.setQueryConditions(e.queryCondition)})},onSubmotReportModal:function(t){var e=this,a=this,o=t.productName,r=t.reportNames,i=t.reportType,n=t.dimension;a.reportModalSubmitLoading=!0;var s={createById:this.$store.getters.userId,productCode:o,reporterNames:r,type:i,dimension:n};this.$api.product.addReporter(s).then(function(t){a.reportModalVisible=!1,a.reportModalSubmitLoading=!1,a.getReporterList()}).catch(function(t){e.$message.error(t.message),a.reportModalSubmitLoading=!1})}}},l=s,c=(a("8aa6"),a("d1bc"),a("2877")),d=Object(c["a"])(l,o,r,!1,null,"62f590a6",null);e["default"]=d.exports},d8fb:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingProductInfo,expression:"loadingProductInfo"}],attrs:{id:"productManagement_detail"}},[a("div",{staticClass:"section"},[a("p",{staticClass:"title"},[t._v("产品信息")]),t._v(" "),a("div",{staticClass:"info"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("产品编码:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productInfo.code))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("产品名称:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productInfo.name))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("产品类型:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t._f("filterProductType")(t.productInfo.type)))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("对接方式:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t._f("filterProductConnectType")(t.productInfo.connectType)))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("测试环境地址:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productInfo.testEnvironment))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("生产环境地址:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productInfo.productEnvironment))])]),t._v(" "),a("el-col",{staticClass:"noPadding",attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("请求方式:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t._f("filterProductAccessType")(t.productInfo.accessType)))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("请求地址:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.productInfo.accessAddress))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("请求参数:")]),t._v(" "),a("span",{staticClass:"val"},[a("json-viewer",{attrs:{value:t.formateJsonData(t.productInfo.requestParam),"expand-depth":5,copyable:""}})],1)]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("响应参数:")]),t._v(" "),a("span",{staticClass:"val"},[a("json-viewer",{attrs:{value:t.formateJsonData(t.productInfo.responseParam),"expand-depth":5,copyable:""}})],1)]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"key"},[t._v("响应状态码:")]),t._v(" "),a("span",{staticClass:"val"},[a("json-viewer",{attrs:{value:t.formateJsonData(t.productInfo.responseCode),"expand-depth":5,copyable:""}})],1)])],1)],1)]),t._v(" "),a("ProductBasicInfo",{attrs:{"product-info":t.productInfo,"introduce-image-list":t.introduceImageList,"logo-image-list":t.logoImageList}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===t.productInfo.type,expression:"productInfo.type === 1"}],staticClass:"section apiList"},[a("p",{staticClass:"title"},[t._v("关联产品列表")]),t._v(" "),a("div",{staticClass:"info"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.productInfo.productApiDTOList,"header-cell-style":{background:"#f5f5f5",color:"#333"},"cell-style":{padding:"10px 0"}}},[a("el-table-column",{attrs:{prop:"code",label:"产品编号"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$api.buttonAuth("product/detail")?a("router-link",{attrs:{to:{path:"/manage/detail",query:{code:e.row.code}}}},[t._v(t._s(e.row.code))]):a("span",[t._v(t._s(e.row.code))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"产品名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"产品类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("filterProductType")(e.row.type)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"accessType",label:"对接模式","min-width":"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("filterProductConnectType")(e.row.connectType)))]}}])})],1)],1)])],1)},r=[],i=a("50d9"),n={name:"ProductDetail",components:{ProductBasicInfo:i["default"]},data:function(){return{loadingProductInfo:!1,introduceImageList:[],logoImageList:[],productInfo:{}}},watch:{$route:function(t,e){this.getProductInfo(t.query.code)}},beforeRouteEnter:function(t,e,a){a(function(e){return e.getProductInfo(t.query.code)})},beforeRouteUpdate:function(t,e,a){this.getProductInfo(this.$route.query.code).then(function(){a()})},methods:{formateJsonData:function(t){var e="";try{e=t?JSON.parse(t):""}catch(a){e=t?this.$lib.jsonFormat(t):""}return e},setProductInfo:function(t){this.productInfo=t,this.introduceImageList.push(t.introduceImage),this.logoImageList.push(t.logoImage),this.loadingProductInfo=!1},getProductInfo:function(t){var e=this;return this.loadingProductInfo=!0,this.$api.product.getProductByCode(t).then(function(t){e.setProductInfo(t.data[0])})},handleEditProduct:function(t){this.$router.push({path:"/manage/edit",query:{code:t}})}}},s=n,l=(a("5006"),a("a19a"),a("2877")),c=Object(l["a"])(s,o,r,!1,null,"5d692124",null);e["default"]=c.exports},e7a3:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"productReporter_basicInfo"}},[a("div",{staticClass:"section"},[a("p",{staticClass:"title"},[t._v("报表基本信息")]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingBasicInfo,expression:"loadingBasicInfo"}],staticClass:"info"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("span",{staticClass:"key"},[t._v("产品名称:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.basicInfo.productName))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"key"},[t._v("产品类型:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t._f("filterProductType")(t.basicInfo.productType)))])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"key"},[t._v("报表名称:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.basicInfo.name))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"key"},[t._v("服务地址:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.basicInfo.apiAddress))])]),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(e){t.ifShowDialog=!0}}},[t._v("配置")])],1)],1)],1)]),t._v(" "),a("el-dialog",{attrs:{title:"配置报表基本信息",visible:t.ifShowDialog,width:"35%","custom-class":"dialogWrapper"},on:{"update:visible":function(e){t.ifShowDialog=e}}},[a("el-form",{ref:"configInfo",attrs:{model:t.configInfo,rules:t.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"name",label:"报表名称"}},[a("el-input",{attrs:{maxlength:"20","show-word-limit":"",placeholder:"请输入",clearable:""},model:{value:t.configInfo.name,callback:function(e){t.$set(t.configInfo,"name",e)},expression:"configInfo.name"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"apiAddress",label:"服务地址"}},[a("el-input",{attrs:{maxlength:"100","show-word-limit":"",placeholder:"请输入",clearable:""},model:{value:t.configInfo.apiAddress,callback:function(e){t.$set(t.configInfo,"apiAddress",e)},expression:"configInfo.apiAddress"}})],1),t._v(" "),a("el-form-item",{staticClass:"mb0",attrs:{label:"统计维度",prop:"dimension"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.configInfo.dimension,callback:function(e){t.$set(t.configInfo,"dimension",e)},expression:"configInfo.dimension"}},t._l(t.$settings.product.reportDimensions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.resetForm}},[t._v("重 置")]),t._v(" "),a("el-button",{attrs:{loading:t.isSubmitting,type:"primary"},on:{click:t.submitApiAddress}},[t._v("更 新")])],1)],1)],1)},r=[],i=(a("7f7f"),{name:"BasicInfo",props:{reporterInfo:{type:Object,default:function(){return{}}}},data:function(){return{ifShowDialog:!1,loadingBasicInfo:!1,reporterId:this.$route.query.id,isSubmitting:!1,configInfo:{name:"",apiAddress:"",dimension:"",id:this.$route.query.id},rules:{name:[{required:!0,message:"请输入报表名称"}],apiAddress:[{required:!0,message:"请输入服务地址"}],dimension:[{required:!0,message:"请选择统计维度"}]}}},computed:{basicInfo:{get:function(){return this.reporterInfo},set:function(t){this.$emit("update:reporterInfo",t)}}},watch:{reporterInfo:function(t){this.configInfo.name=t.name,this.configInfo.apiAddress=t.apiAddress,this.configInfo.dimension=t.dimension},ifShowDialog:function(t){t||this.resetForm()}},methods:{submitApiAddress:function(){var t=this;this.$refs["configInfo"].validate(function(e){if(!e)return!1;t.isSubmitting=!0,t.$api.product.updateProductReporterInfo(t.configInfo).then(function(e){t.loadingBasicInfo=!0,t.$api.product.getProductReporterInfoById(t.reporterId).then(function(e){t.basicInfo=e.data[0],t.loadingBasicInfo=!1}),t.ifShowDialog=!1,t.isSubmitting=!1}).catch(function(e){t.ifShowDialog=!1,t.isSubmitting=!1,t.$message.error(e.message)})})},resetForm:function(){this.$refs["configInfo"].resetFields(),this.$refs["configInfo"].clearValidate()}}}),n=i,s=a("2877"),l=Object(s["a"])(n,o,r,!1,null,null,null);e["default"]=l.exports},e96f:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("DevelopmentForm",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingProductInfo,expression:"loadingProductInfo"}],attrs:{"default-product-info":t.productInfo,"is-edit-product":t.isEditProduct,"if-show-reset-btn":t.ifShowResetBtn}})},r=[],i=a("5c0e"),n={name:"Index",components:{DevelopmentForm:i["default"]},data:function(){return{isEditProduct:!0,ifShowResetBtn:!0,loadingProductInfo:!1,productInfo:{}}},beforeRouteEnter:function(t,e,a){a(function(e){return e.getProductInfo(t.query.code)})},beforeRouteUpdate:function(t,e,a){this.getProductInfo(this.$route.query.code).then(function(){a()})},methods:{setProductInfo:function(t){this.productInfo=t,this.loadingProductInfo=!1},getProductInfo:function(t){var e=this;return this.loadingProductInfo=!0,this.$api.product.getProductDevelopmentInfoByCode(t).then(function(t){e.setProductInfo(t.data[0])})}}},s=n,l=a("2877"),c=Object(l["a"])(s,o,r,!1,null,"52ceb06c",null);e["default"]=c.exports},ed6f:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dataManage"},[a("div",{staticClass:"section"},[a("p",{staticClass:"title"},[t._v("产品信息")]),t._v(" "),a("div",{staticClass:"info"},[a("el-row",[a("el-col",{attrs:{xs:24,sm:6}},[a("span",{staticClass:"key"},[t._v("产品编码:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.$route.query.code))])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:6}},[a("span",{staticClass:"key"},[t._v("产品名称:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.$route.query.name))])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:6}},[a("span",{staticClass:"key"},[t._v("产品类型:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t._f("filterProductType")(t.$route.query.type)))])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:6}},[a("span",{staticClass:"key"},[t._v("对接方式:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t._f("filterProductConnectType")(t.$route.query.connectType)))])])],1)],1)]),t._v(" "),a("OutbreakInfo",{attrs:{"product-code":t.$route.query.code}}),t._v(" "),a("GovernmentPolicy",{attrs:{"product-code":t.$route.query.code}})],1)},r=[],i=a("2e81"),n=a("c900"),s={name:"DataManage",components:{GovernmentPolicy:i["default"],OutbreakInfo:n["default"]}},l=s,c=(a("b7be"),a("2877")),d=Object(c["a"])(l,o,r,!1,null,"8aaccaaa",null);e["default"]=d.exports},f162:function(t,e,a){"use strict";var o=a("c0a1"),r=a.n(o);r.a},f1e2:function(t,e,a){"use strict";var o=a("b364"),r=a.n(o);r.a},f204:function(t,e,a){"use strict";var o=a("6c37"),r=a.n(o);r.a},f345:function(t,e,a){"use strict";var o=a("63da"),r=a.n(o);r.a},f791:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("OperationForm",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingProductInfo,expression:"loadingProductInfo"}],attrs:{"default-product-info":t.productInfo,"if-show-reset-btn":t.ifShowResetBtn}})},r=[],i=(a("c5f6"),a("5df3"),a("1c4c"),a("456d"),a("ac6a"),a("1d55")),n={name:"Index",components:{OperationForm:i["default"]},data:function(){return{isEditProduct:!0,ifShowResetBtn:!0,loadingProductInfo:!1,productInfo:{}}},beforeRouteEnter:function(t,e,a){a(function(e){return e.getProductInfo(t.query.code)})},beforeRouteUpdate:function(t,e,a){this.getProductInfo(this.$route.query.code).then(function(){a()})},methods:{setProductInfo:function(t){this.productInfo=this.formateInfo(t),this.loadingProductInfo=!1},getProductInfo:function(t){var e=this;return this.loadingProductInfo=!0,this.$api.product.getProductOperationInfoByCode(t).then(function(t){e.setProductInfo(t.data[0])})},formateInfo:function(t){var e=JSON.parse(JSON.stringify(t));return Object.keys(e).forEach(function(t){null===e[t]&&(e[t]="")}),""===e.productReporterDTOList&&(e.productReporterDTOList=[]),e.paymentTypes=e.paymentTypes?Array.from(e.paymentTypes,function(t){return Number(t)}):e.paymentTypes,e}}},s=n,l=a("2877"),c=Object(l["a"])(s,o,r,!1,null,null,null);e["default"]=c.exports}}]);