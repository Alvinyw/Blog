(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d896cb4","chunk-f1e83cbe","chunk-30729462"],{"41b5":function(t,e,a){"use strict";var n=a("d097"),s=a.n(n);s.a},"67d6":function(t,e,a){},6900:function(t,e,a){},"75d8":function(t,e,a){},8115:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"customer-detail"},[a("CustomerInfo",{attrs:{loading:t.infoLoading,info:t.info}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.productList.length>0,expression:"productList.length > 0"}],staticClass:"product-section"},[a("el-tabs",{on:{"tab-click":t.onTab},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.productList,function(t){return a("el-tab-pane",{key:t["code"],attrs:{label:t["name"],name:t["code"]}})}),1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.activeName!==t.loanCode,expression:"activeName !== loanCode"},{name:"loading",rawName:"v-loading",value:t.noDataLoading,expression:"noDataLoading"}],staticClass:"no-data"},[t._v("暂无数据")]),t._v(" "),a("CompanyList",{directives:[{name:"show",rawName:"v-show",value:t.activeName===t.loanCode,expression:"activeName === loanCode"}],attrs:{title:"企业列表",list:t.companyList,loading:t.tableLoading}})],1)],1)},s=[],i=(a("c5f6"),a("7f7f"),a("96cf"),a("3b8d")),r=a("8b6d"),o=a("9b2a"),c={name:"CustomerDetail",components:{CustomerInfo:r["default"],CompanyList:o["default"]},data:function(){return{info:{code:"",phone:"",name:"",id:" ",merchant:"",childMerchant:"",entrance:"",registerTime:"",merchantId:""},originInfo:{code:"",phone:"",name:"",id:" ",merchant:"",childMerchant:"",entrance:"",registerTime:"",merchantId:""},infoLoading:!1,activeName:"",inactiveName:"",tableLoading:!1,productList:[],companyList:[],noDataLoading:!1,loanCode:"10005"}},computed:{customerId:function(){return this.$route.query.customerId}},watch:{activeName:function(t){this.inactiveName=t}},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getCustomerInfo({customerId:this.$route.query.customerId});case 2:this.getCompanyList();case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{onTab:function(t){var e=t.name;this.inactiveName!==this.activeName&&(e===this.loanCode?this.getCompanyList(e):this.getNoDataLoading())},getNoDataLoading:function(){var t=this;t.noDataLoading=!0,setTimeout(function(){t.noDataLoading=!1},1200)},getCustomerInfo:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,n,s,i,r,o,c,l,u,d,m;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.infoLoading=!0,t.prev=1,t.next=4,this.$api.customer.getCustomerInfo({customerId:this.customerId});case 4:if(e=t.sent,this.infoLoading=!1,200===Number(e["code"])){t.next=9;break}return this.$message.error(e["message"]),t.abrupt("return",!1);case 9:if(e["data"]&&e["data"][0]){t.next=14;break}return this.activeName="",this.productList=[],this.info=this.originInfo,t.abrupt("return",!0);case 14:a=e["data"][0],n=a.customerId,s=a.customerName,i=a.idNo,r=a.registerMobile,o=a.merchantId,c=a.merchantName,l=a.childMerchantName,u=a.productName,d=a.createDatetime,m=a.products,this.info={code:n,phone:r,name:s,id:i,merchant:c,childMerchant:l,entrance:u,registerTime:d,merchantId:o},this.productList=m||[],this.activeName=0===this.productList.length?"":this.productList[0]["code"],t.next=25;break;case 20:return t.prev=20,t.t0=t["catch"](1),this.infoLoading=!1,this.$message.error(t.t0["message"]),t.abrupt("return",!1);case 25:case"end":return t.stop()}},t,this,[[1,20]])}));function e(){return t.apply(this,arguments)}return e}(),getCompanyList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,n,s=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=s.length>0&&void 0!==s[0]?s[0]:"10005",0!==this.productList.length){t.next=3;break}return t.abrupt("return");case 3:if(!(this.companyList.length>0)){t.next=5;break}return t.abrupt("return");case 5:return this.tableLoading=!0,t.prev=6,t.next=9,this.$api.customer.getProductData({customerId:this.customerId,productCode:e});case 9:if(a=t.sent,this.tableLoading=!1,200===Number(a["code"])){t.next=14;break}return this.$message.error(a["message"]),t.abrupt("return",!1);case 14:if(a["data"]&&a["data"][0]){t.next=17;break}return this.companyList=[],t.abrupt("return",!0);case 17:n=a["data"][0].companies,this.companyList=n||[],t.next=26;break;case 21:return t.prev=21,t.t0=t["catch"](6),this.tableLoading=!1,this.$message.error(t.t0["message"]),t.abrupt("return",!1);case 26:case"end":return t.stop()}},t,this,[[6,21]])}));function e(){return t.apply(this,arguments)}return e}()}},l=c,u=(a("95ea"),a("41b5"),a("2877")),d=Object(u["a"])(l,n,s,!1,null,"2772d7c0",null);e["default"]=d.exports},"8b6d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"section customer-info"},[a("p",{staticClass:"title"},[t._v("客户基本信息")]),t._v(" "),a("div",{staticClass:"basicInfo info"},[a("el-row",[a("el-col",{attrs:{sm:12,md:8}},[a("span",{staticClass:"key"},[t._v("客户编号:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.info.code))])]),t._v(" "),a("el-col",{attrs:{sm:12,md:8}},[a("span",{staticClass:"key"},[t._v("注册手机号:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.info.phone))])]),t._v(" "),a("el-col",{attrs:{sm:12,md:8}},[a("span",{staticClass:"key"},[t._v("客户名称:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.info.name))])]),t._v(" "),a("el-col",{attrs:{sm:12,md:8}},[a("span",{staticClass:"key"},[t._v("身份证号:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.info.id))])]),t._v(" "),a("el-col",{attrs:{sm:12,md:8}},[a("span",{staticClass:"key"},[t._v("注册产品:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.info.entrance))])]),t._v(" "),a("el-col",{attrs:{sm:12,md:8}},[a("span",{staticClass:"key"},[t._v("所属商户:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.info.merchant))])]),t._v(" "),a("el-col",{attrs:{sm:12,md:8}},[a("span",{staticClass:"key"},[t._v("所属子商户:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.info.childMerchant))])]),t._v(" "),a("el-col",{attrs:{sm:12,md:8}},[a("span",{staticClass:"key"},[t._v("注册时间:")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.info.registerTime))])])],1)],1)])},s=[],i={name:"CustomerInfo",props:{info:{type:Object,default:function(){return{}}},loading:{type:Boolean,default:function(){return!1}}}},r=i,o=(a("beed"),a("2877")),c=Object(o["a"])(r,n,s,!1,null,"03e0ec88",null);e["default"]=c.exports},"95ea":function(t,e,a){"use strict";var n=a("d008"),s=a.n(n);s.a},"9b2a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"company-list"},[a("h3",{staticClass:"table-title"},[t._v(t._s(t.title))]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,"header-cell-style":{background:"#f5f5f5",color:"#333"},border:""}},[a("el-table-column",{attrs:{prop:"dataId",label:"业务编号","class-name":"code-column",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"companyName",label:"企业名称","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"uniformSocialCreditCode",label:"统一社会信用代码","min-width":"140","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"企业所在地","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"legalName",label:"法人名称","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"legalIdNumber",label:"法人身份证号码","min-width":"125","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"legalMobile",label:"法人手机号","min-width":"95"}}),t._v(" "),a("el-table-column",{attrs:{prop:"chainId",label:"OneChain链ID","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{attrs:{title:e.row.chainId}},[t._v(t._s(e.row.chainId))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createDatetime",label:"创建时间","min-width":"140"}})],1)],1)},s=[],i={name:"CompanyList",props:{title:{type:String,default:function(){return""}},list:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:function(){return!1}}}},r=i,o=(a("e64c"),a("ce44"),a("2877")),c=Object(o["a"])(r,n,s,!1,null,"2cca27e1",null);e["default"]=c.exports},beed:function(t,e,a){"use strict";var n=a("67d6"),s=a.n(n);s.a},ce44:function(t,e,a){"use strict";var n=a("6900"),s=a.n(n);s.a},d008:function(t,e,a){},d097:function(t,e,a){},e64c:function(t,e,a){"use strict";var n=a("75d8"),s=a.n(n);s.a}}]);