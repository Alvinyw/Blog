<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>点名系统</title>
<script type="text/javascript" src="js/jquery.js"></script>

<!--

http://www.17sucai.com/pins/881.html
http://www.17sucai.com/pins/26135.html
http://www.17sucai.com/pins/28032.html

-->
<style type="text/css">
* { margin: 0; padding: 0; list-style-type: none; }
a, img { border: 0; }
body { font: 12px/180% Arial, Helvetica, sans-serif, "新宋体"; }
table { empty-cells: show; border-collapse: collapse; border-spacing: 0; }
/*整个最外层div样式*/
#main { margin: 0 auto; height: 550px; width: 950px; }
/*随机循环学生名字时的颜色*/
.back { background-image: url("image/loop.bmp"); }
/*选中学生名字时的颜色*/
.back2 { background-image: url("image/background.bmp"); }
/*头部信息*/
.head { height: 100px; overflow: hidden; }
/*存放学生名字的最外侧div*/
#content { width: 948px; height: 450px; border: 1px #575757 solid; }
/*学生名字右边部分*/
.div1 { margin-top: 30px; text-align: left; font-size: 18px; float: left; padding-left: 1px; }
/*学生名字左边部分*/
.div2 { text-align: right; font-size: 18px; float: right; padding-right: 1px; margin-top: 30px; }
/*中间班级名字和开始按钮的样式*/
#div3 { float: left; margin: 0 0 0 40px; display: inline; width: 152px; }
/*单个学生名字的样式*/
.nametable td { line-height: 25px; word-spacing : 11px; font-size: 14px; padding-left: 14px; padding-right: 14px; padding-top: 6px; padding-bottom: 6px; cursor: pointer; font-size: 14px; }
/*开始按钮时的凹凸效果*/
.action { background-image: url("image/begin.jpg"); width: 120px; height: 31px; overflow: hidden; color: #ececec; font-size: 1px; margin-left: 24px; cursor: pointer; margin-top: 110px; border: 0; }
/*结束按钮时的凹凸效果*/
.action1 { background-image: url("image/end.jpg"); width: 120px; height: 31px; overflow: hidden; color: #ececec; font-size: 1px; margin-left: 24px; cursor: pointer; margin-top: 110px; border: 0; }
/*学生照片存放的位置*/
#img { margin-top: 55px; border: 1px gray solid; }
/*选中学生名字后出现的选中信息*/
.info { text-align: center; margin-top: 30px; display: block; font-size: 26px; color: #3366cc; line-height: 35px; height: 70px; }
/*隐藏选中学员信息的样式，配合 .info 样式使用*/
.info_none { display: none; }
/*选中后出现的信息*/
.info_none1 { width: 130px; height: 70px; margin-top: 30px; font-size: 40px; color: #eaa100; letter-spacing: 9px; }
</style>
</head>

<body>
<div id="main"> 
    <!--顶部div logo存放位置-->
    <div class="head">
    	<h1>上溪镇村庄随机选择系统 - 测试版</h1>
    </div>
    <!--中间区域 存放 班级左,右的座位div,开始按钮和班级名称-->
    <div id="content"> 
        <!--班级右半边 id是座位号 对应的学生 -->
        <div class="div1">
            <table class="nametable">
                <tbody>
                    <tr>
                        <td>第一排</td>
                        <td bgcolor="#cacaca"></td>
                        <td id="1" bgcolor="#d9d9d9" class="">黄&nbsp;伟</td>
                        <td id="2" bgcolor="#cacaca" class="">韩自超</td>
                        <td id="3" bgcolor="#d9d9d9" class="">周东宝</td>
                    </tr>
                    <tr>
                        <td>第二排</td>
                        <td id="4" bgcolor="#ededed" class="">张艳辉</td>
                        <td id="5" class="">李春江</td>
                        <td id="6" bgcolor="#ededed" class="">杜&nbsp;博</td>
                        <td id="7" class="">李&nbsp;龙</td>
                    </tr>
                    <tr>
                        <td>第三排</td>
                        <td id="8" bgcolor="#cacaca">耿昌金</td>
                        <td id="9" bgcolor="#d9d9d9" class="">魏静武</td>
                        <td id="10" bgcolor="#cacaca" class="">赵宝翠</td>
                        <td id="11" bgcolor="#d9d9d9" class="">谭&nbsp;康</td>
                    </tr>
                    <tr>
                        <td>第四排</td>
                        <td id="12" bgcolor="#ededed" class="">李&nbsp;冬</td>
                        <td id="13" class="">程豆生</td>
                        <td id="14" bgcolor="#ededed" class="">刘东阳</td>
                        <td id="15" class="">佟克强</td>
                    </tr>
                    <tr>
                        <td>第五排</td>
                        <td id="16" bgcolor="#cacaca" class="">蒋海军</td>
                        <td id="17" bgcolor="#d9d9d9" class="">神亚顺</td>
                        <td id="18" bgcolor="#cacaca" class="">苏静立</td>
                        <td id="19" bgcolor="#d9d9d9" class="">黄卫帅</td>
                    </tr>
                    <tr>
                        <td>第六排</td>
                        <td id="20" bgcolor="#ededed" class="">黎&nbsp;彧</td>
                        <td id="21" class="">汪春全</td>
                        <td id="22" bgcolor="#ededed" class="">张鹏飞</td>
                        <td id="23" class="">王春志</td>
                    </tr>
                    <tr>
                        <td>第七排</td>
                        <td id="24" bgcolor="#cacaca" class="">罗龙杰</td>
                        <td id="25" bgcolor="#d9d9d9" class="">郭&nbsp;正</td>
                        <td id="26" bgcolor="#cacaca" class="">范&nbsp;博</td>
                        <td id="27" bgcolor="#d9d9d9" class="">王&nbsp;涛</td>
                    </tr>
                    <tr>
                        <td>第八排</td>
                        <td id="28" bgcolor="#ededed" class="">杨泽超</td>
                        <td id="29" class="">周海锋</td>
                        <td id="30" bgcolor="#ededed" class="">陈&nbsp;文</td>
                        <td id="31" class="">李本海</td>
                    </tr>
                    <tr>
                        <td>第九排</td>
                        <td id="32" bgcolor="#cacaca" class="">裴&nbsp;琛</td>
                        <td id="33" bgcolor="#d9d9d9" class="">王&nbsp;艺</td>
                        <td id="34" bgcolor="#cacaca" class="">程&nbsp;斌</td>
                        <td id="35" bgcolor="#d9d9d9" class="">艾子豪</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <!--中间存放班级信息和开始按钮 -->
        <div id="div3">
            <div id="info" class="info"></div>
            <div id="info1" class="info_none1"></div>
            <!--<div id="img"><img class="img" src="image/2.gif" width="150px" height="120px"></div>-->
            <button id="action" class="action" onClick="action()">开始</button>
        </div>
        
        <!--班级左半边 id是座位号 对应的学生 -->
        <div class="div2">
            <table class="nametable">
                <tbody>
                    <tr>
                        <td id="36" bgcolor="#cacaca" class="">陈豪先</td>
                        <td id="37" bgcolor="#d9d9d9" class="">张建平</td>
                        <td id="38" bgcolor="#cacaca" class="">张聪河</td>
                        <td bgcolor="#d9d9d9"></td>
                        <td>第一排</td>
                    </tr>
                    <tr>
                        <td id="39" bgcolor="#ededed" class="">叶宇波</td>
                        <td id="40" class="">孙卫标</td>
                        <td id="41" bgcolor="#ededed" class="">李俊澎</td>
                        <td></td>
                        <td>第二排</td>
                    </tr>
                    <tr>
                        <td id="42" bgcolor="#cacaca" class="">张&nbsp;超</td>
                        <td id="43" bgcolor="#d9d9d9" class="">曾洪亮</td>
                        <td id="44" bgcolor="#cacaca" class="">张金良</td>
                        <td bgcolor="#d9d9d9"></td>
                        <td>第三排</td>
                    </tr>
                    <tr>
                        <td bgcolor="#ededed"></td>
                        <td id="45" class="">韩&nbsp;唯</td>
                        <td id="46" bgcolor="#ededed" class="">刘&nbsp;爽</td>
                        <td id="47" class="">赵&nbsp;楠</td>
                        <td>第四排</td>
                    </tr>
                    <tr>
                        <td id="48" bgcolor="#cacaca" class="">李少鹏</td>
                        <td id="49" bgcolor="#d9d9d9" class="">庄科勇</td>
                        <td id="50" bgcolor="#cacaca" class="">张&nbsp;磊</td>
                        <td id="51" bgcolor="#d9d9d9" class="">刘晓霖</td>
                        <td>第五排</td>
                    </tr>
                    <tr>
                        <td id="52" bgcolor="#ededed" class="">梁&nbsp;琦</td>
                        <td id="53" class="">王&nbsp;萌</td>
                        <td id="54" bgcolor="#ededed" class="">刘&nbsp;学</td>
                        <td id="55" class="">袁清会</td>
                        <td>第六排</td>
                    </tr>
                    <tr>
                        <td id="56" bgcolor="#cacaca" class="">惠先照</td>
                        <td id="57" bgcolor="#d9d9d9" class="">郭&nbsp;栋</td>
                        <td id="58" bgcolor="#cacaca" class="">张&nbsp;洪</td>
                        <td id="59" bgcolor="#d9d9d9" class="">胡阿龙</td>
                        <td>第七排</td>
                    </tr>
                    <tr>
                        <td id="60" bgcolor="#ededed" class="">刘&nbsp;伟</td>
                        <td id="61" class="">刘宝印</td>
                        <td id="62" bgcolor="#ededed">汪登科</td>
                        <td id="63" class="">杨&nbsp;斌</td>
                        <td>第八排</td>
                    </tr>
                    <tr>
                        <td id="64" bgcolor="#cacaca" class="">陈良明</td>
                        <td id="65" bgcolor="#d9d9d9" class="">张元江</td>
                        <td id="66" bgcolor="#cacaca" class="">吕&nbsp;骏</td>
                        <td id="67" bgcolor="#d9d9d9">柴汉林</td>
                        <td>第九排</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<script type="text/javascript">
/*一些全局属性*/
var dm = null;
var i = 0;
var j= 40;
var dan;
var user;
var time=60;
var uss=null;
/*点击开始时 执行的方法，快速循环*/			
function start(){
	if(uss!=null){
		//alert(uss);
		$(uss).addClass('back2');
	}
	/*移除class为back的css样式*/
	$("td").removeClass('back'); 
	/*开始快速循环时，循环的学生座位号(学号)*/
	user=new Array(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,
	18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67);	
	/*循环周期*/
	dm = setInterval(function(){
		clearInterval(dan);
		$("td").removeClass('back');		 
		$("#info").removeClass('info');
		$("#info1").removeClass('info_none');
		$("#info").addClass('info_none');
		$("#info1").addClass('info_none1');
		//后面的64是学生的总人数。
		var xx=parseInt(Math.random()*67);
		$('#'+xx).addClass('back');	
		$('#'+(xx-1)).removeClass('back');
		$(".img").attr('src','image/'+xx+'.gif');				
	},time);	
}

/*点击结束时，速度降慢，到最后选中 一些全局属性*/

/*被关注 学生座位号(学号)*/
var name=[0,17,20,23,26,27,28,29,34,36,41,53,55,57,59,63];
var oo=name.length-1;
/*不被关注 学生座位号(学号)*/
var name2=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,18,19,21,22,24,25,30,31,32,33,35,37,38,39,40,42,43,44,45,46,47,48,49,50,51,52,54,56,58,60,61,62,64,65,66,67];
var ooo=name2.length-1;

/*点击结束时，选中不被关注学生方法*/
function stop1(){				
	time2=300;
	clearInterval(dm);//清除开始时的循环周期
	$("td").removeClass('back'); //移除class为back的css样式	
	if(time2==300){	
	/*降慢速度循环*/
		mmm = setInterval(function(){
			if(time2<500){
				clearInterval(dan);
				$("td").removeClass('back');
				$("#info").removeClass('info');
				$("#info").addClass('info_none');
				//停止的时候，循环学员的个数
				var xx=parseInt(Math.random()*67);			
				$('#'+(xx-1)).removeClass('back');	
				$('#'+xx).addClass('back');
				//$('.img').attr('src','image/'+xx+'.gif');
				time2+=100;
			}else{
				/*最后停止选中的一下，调用选中不被关注学生的方法*/
				bbb();
			 }	
		},time2);
	}	
}

/*点击结束时，选中被关注学生方法*/
function stop(){	
	time1=300;
	clearInterval(dm);//清除开始时的循环周期
	$("td").removeClass('back'); //移除class为back的css样式		
	if(time1==300){	
	/*降慢速度循环*/
		mm = setInterval(function(){
			if(time1<500){
				clearInterval(dan);
				$("td").removeClass('back');
				$("#info").removeClass('info');
				$("#info").addClass('info_none');
				var xx=parseInt(Math.random()*67);			
				$('#'+(xx-1)).removeClass('back');		
				$('#'+xx).addClass('back');
				$('.img').attr('src','image/'+xx+'.gif');
				time1+=100;
			}else{
				/*最后停止选中的一下，调用选中不被关注学生的方法*/
				aaa();	
			}
	
		},time1);
	}	
}

/*最后停止选中的一下，调用选中被关注学生的方法*/
function bbb(){
	var nnn=300;
	clearInterval(mmm);
	var st=setInterval(function(){
		var j=parseInt(Math.random()*ooo+1);							
		$("#info").addClass('info_none');		
		$("td").removeClass('back');
		var a=$("#"+name2[j]).addClass('back');
		$('.img').attr('src','image/'+name2[j]+'.gif');
			if(nnn==300){
				$("#info").removeClass('info_none');	
				$("#info").addClass('info');
				clearInterval(st);
				var c = $("#"+name2[j]).html();
				var str="<span>"+c+" <br/>您被选中了";
				$("#info").html(str);
				$("#info1").addClass('info_none');
				use("#"+name2[j]);
				/*选中后从数组中清除，再选时不会被选上*/
					name2=$.grep(name2,function(nnnn,ii){
						return nnnn == name2[j];			
					},true);
					ooo--;
			}		
	},nnn);	
}

/*最后停止选中的一下，调用选中被关注学生的方法*/
function aaa () {
	var result=new Array();
	var n=300;
	users=this;
	clearInterval(mm);
	var st=setInterval(function(){
		var j=parseInt(Math.random()*oo+1);							
		$("#info").addClass('info_none');		
		$("td").removeClass('back');
		var a=$("#"+name[j]).addClass('back');
		$('.img').attr('src','image/'+name[j]+'.gif');
			if(n==300){
				$("#info").removeClass('info_none');	
				$("#info").addClass('info');
				clearInterval(st);
				var c = $("#"+name[j]).html();
				use("#"+name[j]);
				var str="<span>"+c+"</br>您被选中了";
				$("#info").html(str);
				$("#info1").addClass('info_none');
				/*选中后从数组中清除，再选时不会被选上*/
				name=$.grep(name,function(nn,ii){
					return nn == name[j];			
				},true);
				oo--;
			}
	},n);
}

/*选中闪动效果*/
function use(user){
	uss=user;
	var jj=1;
	dan=setInterval(function(){
		if(jj%2==0){
			$(user).addClass('back');
			}
		else{	
			$(user).removeClass("back");
		}
		jj++;
		
	},300);	
}

/*单个点击人名方法*/
$(function(){

	$("td").click(function(){
		var jj=1;
		var userr=$(this);
		var cc = $(userr).html();
		clearInterval(dan);
		$(uss).addClass('back2');
		use(userr);
		var strc="<span>"+cc+" <br/>您被选中了";
		$("#info").html(strc);
		var idd=$(this).attr("id");
		$('.img').attr('src','image/'+idd+'.gif');
		id(idd);
		id1(idd);
		/*单个点击去除被关注学生方法*/
		function id(str){
			for(var i=0;i<name.length;i++){
				if(name[i]==idd){
					name=$.grep(name,function(nnss,ii){
					return nnss == idd;
				},true);
				oo--;
				}	
			}
		}
	
		/*单个点击去除不被关注学生方法*/
		function id1(str){
			for(var i=0;i<name2.length;i++){
				if(name2[i]==idd){
					name2=$.grep(name2,function(nns,ii){
					return nns == idd;			
				},true);
				ooo--;
				}
			}
		}	
				
	});
	
});

/*点击开始或结束时调用的方法*/
function action(){
	var s = document.getElementById("action").innerHTML;
	if(s=="开始"){
		start();
		document.getElementById("action").innerHTML="结束";
		$("#action").addClass('action1');
		$("#action").removeClass('action');
	}else{
		if(oo==0){
		/*判断如果关注已经完毕，就从不被关注学生中选*/
			stop1();
			document.getElementById("action").innerHTML="开始";
			$("#action").addClass('action');
			$("#action").removeClass('action1');
		}else{
			stop();
			document.getElementById("action").innerHTML="开始";
			$("#action").addClass('action');
			$("#action").removeClass('action1');
		}	
	}
}
</script>
</body>
</html>